{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\Tienda\\\\frontend-tienda\\\\src\\\\componentes\\\\Producto.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Producto.css\";\n/* axios */\n\nimport axios from \"axios\";\n/* datos */\n\nimport { categorias, baseURL, publicarURL, verArticuloURL, hex, deshex, arrayBase64, base64Archivo, Redirigir } from \"../datos\";\n/* react-router-dom */\n\nimport { useParams } from \"react-router-dom\";\nimport { Camera } from \"react-bootstrap-icons\";\n/* material ui */\n\nimport Paper from \"@material-ui/core/Paper\";\nimport { XCircle } from \"react-bootstrap-icons\";\nimport { useRef } from \"react\";\n/*  usado para comprobar si los campos fueron editados al menos una vez\n    antes de mostrar errores en la validacion */\n\nconst camposActivados = {\n  categoria: false,\n  titulo: false,\n  descripcion: false,\n  precio: false,\n  cantidad: false,\n  fotos: false\n};\n\nconst Producto = props => {\n  const [mostrar, setMostrar] = useState(false);\n  const [paso, setPaso] = useState(0);\n  const [id, setId] = useState(null);\n  const [titulo, setTitulo] = useState(\"\");\n  const [descripcion, setDescripcion] = useState(\"\");\n  const [categoria, setCategoria] = useState(\"-1\");\n  const [precio, setPrecio] = useState(\"\");\n  const [cantidad, setCantidad] = useState(1);\n  const [envio, setEnvio] = useState(true);\n  const [fotos, setFotos] = useState([]);\n  const [uris, setUris] = useState([]);\n  const [excedido, setExcedido] = useState(false);\n  const [error, setError] = useState(false);\n  /* se usa exclusivamente para forzar un re-renderizado  */\n\n  const [_, setErrores] = useState(false);\n  const {\n    idpublicacion\n  } = useParams();\n  useEffect(_ => {\n    if (idpublicacion) {\n      let url = baseURL + verArticuloURL + \"/\" + idpublicacion;\n      axios.get(url).then(res => {\n        let p = res.data;\n        setId(p.id);\n        setTitulo(deshex(p.titulo));\n        setDescripcion(deshex(p.descripcion));\n        setCategoria(p.categoria);\n        setPrecio(p.precio);\n        setCantidad(p.cantidad);\n\n        for (let k = 0; k < p.imagenes.length; k++) {\n          let dataurl = \"data:image/*;base64,\" + arrayBase64(p.imagenes[k].bytes);\n          setUris(uris => [...uris, dataurl]);\n          let ff = base64Archivo(dataurl, \"foto\" + k);\n          setFotos(fotos => [...fotos, ff]);\n        }\n\n        setMostrar(true);\n      }).catch(err => {\n        console.log(err);\n        setError(true);\n      });\n    } else setMostrar(true);\n  }, []);\n  /* titulos de los pasos */\n\n  const titulos = [\"Seleccion\\u00e1 la categor\\u00eda del producto\", \"Indic\\u00e1 un t\\u00edtulo y una descripci\\u00f3n\", \"Establece el precio y la cantidad disponible\", \"Agreg\\u00e1 fotos del producto\", \"Publicar\"];\n  /* nombres de los pasos */\n\n  const pasos = [\"Categor\\u00eda\", \"T\\u00edtulo y descripci\\u00f3n\", \"Precio y cantidad\", \"Fotos\", \"Publicar\"];\n  /* funcion para avanzar o retroceder */\n\n  const mover = direccion => {\n    let hayErrores = false;\n\n    if (direccion === 1) {\n      switch (paso) {\n        case 0:\n          hayErrores = categoria === \"-1\";\n          camposActivados.categoria = categoria === \"-1\";\n          break;\n\n        case 1:\n          hayErrores = titulo === \"\" || descripcion === \"\";\n          camposActivados.titulo = titulo === \"\";\n          camposActivados.descripcion = descripcion === \"\";\n          break;\n\n        case 2:\n          if (precio === \"\") setPrecio(\"0\");\n          if (cantidad === \"\") setCantidad(\"1\");\n          break;\n\n        case 3:\n          hayErrores = uris.length === 0;\n          camposActivados.fotos = uris.length === 0;\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    setErrores(hayErrores);\n    if (hayErrores) return;\n\n    if (paso === pasos.length - 1 && direccion > 0) {\n      finalizarPublicacion();\n      return;\n    }\n\n    if (paso + direccion < 0 || paso + direccion >= pasos.length) return;\n    setPaso(paso + direccion);\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n  };\n  /* funcion para subir imagenes del producto, en el paso \"Fotos\" */\n\n\n  const cargarFotos = e => {\n    if (e.target.files) {\n      setExcedido(e.target.files.length + uris.length > 7);\n      if (e.target.files.length + uris.length <= 7) for (let i = 0; i < e.target.files.length; i++) {\n        let item = e.target.files[i];\n\n        if (item.size >= 1048576) {\n          console.log(\"El archivo debe ser menor a 1MB.\");\n          continue;\n        }\n\n        let filereader = new FileReader();\n\n        filereader.onload = ev => {\n          setUris(uris => [...uris, ev.target.result]);\n          setFotos(fotos => [...fotos, item]);\n        };\n\n        filereader.readAsDataURL(e.target.files[i]);\n      }\n    }\n\n    if (props.onChange !== undefined) props.onChange(e);\n  };\n  /* miniaturas de vista previa de las fotos subidas en el paso \"Fotos\" */\n\n\n  const Miniatura = () => {\n    let imgTag = null;\n\n    if (uris.length > 0) {\n      imgTag = [];\n      uris.map((item, i) => {\n        imgTag.push( /*#__PURE__*/React.createElement(\"div\", {\n          className: \"publicacion-foto\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"img\",\n          src: item,\n          alt: \"Imagen\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"btn-eliminar\",\n          atr: i,\n          onClick: e => borrarImagen(e),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(XCircle, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }\n        }))));\n      });\n    }\n\n    return imgTag;\n  };\n  /* arreglo de miniaturas */\n\n\n  const min = Miniatura();\n  /* funcion del boton X que se muestra en el centro de las miniaturas, al asomar el mouse */\n\n  const borrarImagen = e => {\n    let at = e.currentTarget.getAttribute(\"atr\");\n    setUris(uris => uris.filter((item, i) => i != at));\n    setFotos(fotos => fotos.filter((item, i) => i != at)); //setUris(uris.filter((item, i) => i != at));\n\n    setExcedido(excedido.length > 7);\n  };\n\n  function urlRepresentativo(s) {\n    const permitidos = \"abcdefghijklmnopqrstuvwxyz1234567890\";\n    let str = s;\n\n    while (str.includes(\"  \")) str = str.replaceAll(\"  \", \" \");\n\n    for (let k = 0; k <= str.length; k++) {\n      let c = str.charAt(k);\n      if (!permitidos.includes(c.toLowerCase())) str = str.replaceAll(c, \"-\");\n    }\n\n    while (str.includes(\"--\")) str = str.replaceAll(\"--\", \"-\");\n\n    return str;\n  }\n\n  function finalizarPublicacion() {\n    let usr_dataid = props.dataId;\n    const imgData = new FormData();\n    if (id) imgData.append(\"id\", id);\n    imgData.append(\"data_id\", usr_dataid);\n    imgData.append(\"categoria\", categoria);\n    imgData.append(\"titulo\", hex(titulo));\n    imgData.append(\"url\", urlRepresentativo(titulo));\n    imgData.append(\"descripcion\", hex(descripcion));\n    imgData.append(\"precio\", precio);\n    imgData.append(\"cantidad\", cantidad.toString());\n    imgData.append(\"envios\", envio ? \"1\" : \"0\");\n\n    for (let i = 0; i < fotos.length; i++) {\n      imgData.append(\"foto\", fotos[i]);\n    }\n\n    axios.post(baseURL + publicarURL, imgData).then(res => {\n      if (res.data == \"0\") {\n        console.log(res);\n        setPaso(-1);\n      } else console.log(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  const Categoria = props => {\n    let ref = useRef();\n\n    const catClick = e => {\n      let cn = ref.current.getAttribute(\"catnum\"); //  setCategoria(cn);\n\n      setCategoria(props.catnum);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: categoria === props.catnum ? \"categoria-producto seleccionado d-flex border-box box-shadow-1\" : \"categoria-producto d-flex border-box box-shadow-1\",\n      catnum: props.catnum,\n      ref: ref,\n      onClick: e => catClick(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subcontenedor dflex pointer-events-none user-select-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"categoria-icono pointer-events-none user-select-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }\n    }, props.datos.icono), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"categoria-titulo pointer-events-none user-select-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }\n    }, props.datos.titulo)));\n  };\n\n  const ConfirmacionPublicacion = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }\n    }, \"\\u00a1Publicaci\\u00f3n realizada con \\u00e9xito!\"));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, error && /*#__PURE__*/React.createElement(Redirigir, {\n    donde: \"/error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }\n  }), !error && paso === -1 && /*#__PURE__*/React.createElement(ConfirmacionPublicacion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 33\n    }\n  }), !error && mostrar && paso !== -1 && /*#__PURE__*/React.createElement(Paper, {\n    className: \"vender-articulo-view\",\n    elevation: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titulos-etapas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"vender-articulo-titulo titulo-1 gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }\n  }, titulos[paso])), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 11\n    }\n  }, paso === 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categorias-contenedor talign-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 17\n    }\n  }, categorias.map(item => /*#__PURE__*/React.createElement(Categoria, {\n    datos: item,\n    catnum: item.categoria,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"small\", {\n    className: categoria === \"-1\" && camposActivados.categoria ? \"validacion-error\" : \"validacion-error invisible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }\n  }, \"Eleg\\u00ed una categor\\u00eda adecuada para tu publicaci\\u00f3n\")), paso === 1 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titulo-publicacion-contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 19\n    }\n  }, \"T\\u00edtulo de la publicaci\\u00f3n\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"n-textfield width100\",\n    label: \"T\\u00edtulo\",\n    variant: \"outlined\",\n    value: titulo,\n    onChange: e => {\n      camposActivados.titulo = true;\n      setTitulo(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: titulo === \"\" && camposActivados.titulo ? \"validacion-error\" : \"validacion-error invisible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 19\n    }\n  }, \"Escrib\\u00ed un t\\u00edtulo para tu publicaci\\u00f3n\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"descripcion-publicacion-contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, \"Escriba una descripci\\u00f3n\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"n-textarea width100\",\n    rows: \"5\",\n    value: descripcion,\n    onChange: e => {\n      setDescripcion(e.target.value);\n      camposActivados.descripcion = true;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: descripcion === \"\" && camposActivados.descripcion ? \"validacion-error\" : \"validacion-error invisible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 19\n    }\n  }, \"Escrib\\u00ed una descripci\\u00f3n para tu publicaci\\u00f3n\"))), paso === 2 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"precio-cantidad-publicacion-contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"precio-cantidad-publicacion__precio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label dblock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 21\n    }\n  }, \"Establece un precio:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"n-textfield width100 xhx\",\n    label: \"Precio\",\n    value: precio,\n    type: \"number\",\n    onChange: e => {\n      setPrecio(e.target.value);\n      camposActivados.precio = true;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"precio-cantidad-publicacion__cantidad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label dblock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 21\n    }\n  }, \"\\u00bfQu\\u00e9 cantidad dispon\\u00e9s?\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"n-textfield width100\",\n    label: \"Cantidad\",\n    value: cantidad,\n    type: \"number\",\n    onChange: e => {\n      setCantidad(e.target.value);\n      camposActivados.cantidad = true;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__label dblock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 19\n    }\n  }, \"Forma de env\\u00edo:\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"n-select\",\n    onChange: e => setEnvio(e.target.value.includes(\"Envio\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    className: \"opt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 21\n    }\n  }, \"Envio a domicilio\"), /*#__PURE__*/React.createElement(\"option\", {\n    className: \"opt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 21\n    }\n  }, \"Retiro en el local\")))), paso === 3 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fotos-publicacion-contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"talign-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"subir-fotos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"AAwTrket449EAAmd\",\n    className: \"button dinline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"vender-articulo__bot-agregar-fotos n-boton dflex pointer-events-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sp-icono pointer-events-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Camera, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sp-label pointer-events-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 27\n    }\n  }, \"Agregar fotos\"))), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"dnone\",\n    id: \"AAwTrket449EAAmd\",\n    type: \"file\",\n    accept: \"image/*\",\n    multiple: true,\n    onChange: e => {\n      cargarFotos(e);\n      camposActivados.fotos = true;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: !excedido ? \"limite-excedido invisible dblock\" : \"limite-excedido dblock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 23\n    }\n  }, \"\\u00a1M\\u00e1ximo 7 fotos!\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: uris.length === 0 && camposActivados.fotos ? \"validacion-error\" : \"validacion-error invisible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 23\n    }\n  }, \"Agreg\\u00e1 al menos una foto para tu publicaci\\u00f3n\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-fotos-publicacion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 23\n    }\n  }, min))))), paso === 4 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"finalizar-publicacion-contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"finalizar-campo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"finalizar-campo__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 21\n    }\n  }, \"Titulo: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"finalizar-campo__valor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 21\n    }\n  }, titulo)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"finalizar-campo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"finalizar-campo__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 21\n    }\n  }, \"Descripcion: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"finalizar-campo__valor\",\n    style: {\n      whiteSpace: \"pre-wrap\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 21\n    }\n  }, descripcion)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"finalizar-campo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"finalizar-campo__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 21\n    }\n  }, \"Precio: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"finalizar-campo__valor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 21\n    }\n  }, Number(precio) + \"€\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"finalizar-campo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"finalizar-campo__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 21\n    }\n  }, \"Cantidad disponible:\", \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"finalizar-campo__valor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 21\n    }\n  }, cantidad)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"finalizar-campo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"finalizar-campo__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 21\n    }\n  }, \"Envios: \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"finalizar-campo__valor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 21\n    }\n  }, envio ? \"Envio a domicilio\" : \"Solo retiro en local\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navegacion-pasos dflex justify-sb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: paso === 0 ? \"invisible n-boton\" : \"n-boton\",\n    style: {\n      width: 140\n    },\n    onClick: e => mover(-1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 13\n    }\n  }, \"Anterior\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"publicacion-steeper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"n-boton\",\n    style: {\n      width: 140\n    },\n    onClick: e => mover(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 13\n    }\n  }, paso === 4 ? \"Finalizar\" : \"Siguiente\"))));\n};\n\nexport default Producto;","map":{"version":3,"sources":["C:/Users/kevin/Desktop/Tienda/frontend-tienda/src/componentes/Producto.jsx"],"names":["React","useState","useEffect","axios","categorias","baseURL","publicarURL","verArticuloURL","hex","deshex","arrayBase64","base64Archivo","Redirigir","useParams","Camera","Paper","XCircle","useRef","camposActivados","categoria","titulo","descripcion","precio","cantidad","fotos","Producto","props","mostrar","setMostrar","paso","setPaso","id","setId","setTitulo","setDescripcion","setCategoria","setPrecio","setCantidad","envio","setEnvio","setFotos","uris","setUris","excedido","setExcedido","error","setError","_","setErrores","idpublicacion","url","get","then","res","p","data","k","imagenes","length","dataurl","bytes","ff","catch","err","console","log","titulos","pasos","mover","direccion","hayErrores","finalizarPublicacion","document","body","scrollTop","documentElement","cargarFotos","e","target","files","i","item","size","filereader","FileReader","onload","ev","result","readAsDataURL","onChange","undefined","Miniatura","imgTag","map","push","borrarImagen","min","at","currentTarget","getAttribute","filter","urlRepresentativo","s","permitidos","str","includes","replaceAll","c","charAt","toLowerCase","usr_dataid","dataId","imgData","FormData","append","toString","post","Categoria","ref","catClick","cn","current","catnum","datos","icono","ConfirmacionPublicacion","value","whiteSpace","Number","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Producto.css\";\n\n/* axios */\nimport axios from \"axios\";\n\n/* datos */\nimport {\n  categorias,\n  baseURL,\n  publicarURL,\n  verArticuloURL,\n  hex,\n  deshex,\n  arrayBase64,\n  base64Archivo,\n  Redirigir,\n} from \"../datos\";\n\n/* react-router-dom */\nimport { useParams } from \"react-router-dom\";\n\nimport { Camera } from \"react-bootstrap-icons\";\n\n/* material ui */\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { XCircle } from \"react-bootstrap-icons\";\nimport { useRef } from \"react\";\n\n/*  usado para comprobar si los campos fueron editados al menos una vez\n    antes de mostrar errores en la validacion */\nconst camposActivados = {\n  categoria: false,\n  titulo: false,\n  descripcion: false,\n  precio: false,\n  cantidad: false,\n  fotos: false,\n};\n\nconst Producto = (props) => {\n  const [mostrar, setMostrar] = useState(false);\n\n  const [paso, setPaso] = useState(0);\n  const [id, setId] = useState(null);\n  const [titulo, setTitulo] = useState(\"\");\n  const [descripcion, setDescripcion] = useState(\"\");\n  const [categoria, setCategoria] = useState(\"-1\");\n  const [precio, setPrecio] = useState(\"\");\n  const [cantidad, setCantidad] = useState(1);\n  const [envio, setEnvio] = useState(true);\n  const [fotos, setFotos] = useState([]);\n  const [uris, setUris] = useState([]);\n  const [excedido, setExcedido] = useState(false);\n  const [error, setError] = useState(false);\n  /* se usa exclusivamente para forzar un re-renderizado  */\n  const [_, setErrores] = useState(false);\n\n  const { idpublicacion } = useParams();\n\n  useEffect((_) => {\n    if (idpublicacion) {\n      let url = baseURL + verArticuloURL + \"/\" + idpublicacion;\n      axios\n        .get(url)\n        .then((res) => {\n          let p = res.data;\n          setId(p.id);\n          setTitulo(deshex(p.titulo));\n          setDescripcion(deshex(p.descripcion));\n          setCategoria(p.categoria);\n          setPrecio(p.precio);\n          setCantidad(p.cantidad);\n          for (let k = 0; k < p.imagenes.length; k++) {\n            let dataurl =\n              \"data:image/*;base64,\" + arrayBase64(p.imagenes[k].bytes);\n            setUris((uris) => [...uris, dataurl]);\n            let ff = base64Archivo(dataurl, \"foto\" + k);\n            setFotos((fotos) => [...fotos, ff]);\n          }\n          setMostrar(true);\n        })\n        .catch((err) => {\n          console.log(err);\n          setError(true);\n        });\n    } else setMostrar(true);\n  }, []);\n\n  /* titulos de los pasos */\n  const titulos = [\n    \"Seleccion\\u00e1 la categor\\u00eda del producto\",\n    \"Indic\\u00e1 un t\\u00edtulo y una descripci\\u00f3n\",\n    \"Establece el precio y la cantidad disponible\",\n    \"Agreg\\u00e1 fotos del producto\",\n    \"Publicar\",\n  ];\n\n  /* nombres de los pasos */\n  const pasos = [\n    \"Categor\\u00eda\",\n    \"T\\u00edtulo y descripci\\u00f3n\",\n    \"Precio y cantidad\",\n    \"Fotos\",\n    \"Publicar\",\n  ];\n\n  /* funcion para avanzar o retroceder */\n  const mover = (direccion) => {\n    let hayErrores = false;\n    if (direccion === 1) {\n      switch (paso) {\n        case 0:\n          hayErrores = categoria === \"-1\";\n          camposActivados.categoria = categoria === \"-1\";\n          break;\n        case 1:\n          hayErrores = titulo === \"\" || descripcion === \"\";\n          camposActivados.titulo = titulo === \"\";\n          camposActivados.descripcion = descripcion === \"\";\n          break;\n        case 2:\n          if (precio === \"\") setPrecio(\"0\");\n          if (cantidad === \"\") setCantidad(\"1\");\n          break;\n        case 3:\n          hayErrores = uris.length === 0;\n          camposActivados.fotos = uris.length === 0;\n          break;\n        default:\n          break;\n      }\n    }\n    setErrores(hayErrores);\n    if (hayErrores) return;\n\n    if (paso === pasos.length - 1 && direccion > 0) {\n      finalizarPublicacion();\n      return;\n    }\n    if (paso + direccion < 0 || paso + direccion >= pasos.length) return;\n    setPaso(paso + direccion);\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n  };\n\n  /* funcion para subir imagenes del producto, en el paso \"Fotos\" */\n  const cargarFotos = (e) => {\n    if (e.target.files) {\n      setExcedido(e.target.files.length + uris.length > 7);\n      if (e.target.files.length + uris.length <= 7)\n        for (let i = 0; i < e.target.files.length; i++) {\n          let item = e.target.files[i];\n          if (item.size >= 1048576) {\n            console.log(\"El archivo debe ser menor a 1MB.\");\n            continue;\n          }\n\n          let filereader = new FileReader();\n          filereader.onload = (ev) => {\n            setUris((uris) => [...uris, ev.target.result]);\n            setFotos((fotos) => [...fotos, item]);\n          };\n          filereader.readAsDataURL(e.target.files[i]);\n        }\n    }\n    if (props.onChange !== undefined) props.onChange(e);\n  };\n\n  /* miniaturas de vista previa de las fotos subidas en el paso \"Fotos\" */\n  const Miniatura = () => {\n    let imgTag = null;\n    if (uris.length > 0) {\n      imgTag = [];\n      uris.map((item, i) => {\n        imgTag.push(\n          <div className=\"publicacion-foto\">\n            <img className=\"img\" src={item} alt=\"Imagen\" />\n            <span\n              className=\"btn-eliminar\"\n              atr={i}\n              onClick={(e) => borrarImagen(e)}\n            >\n              <XCircle />\n            </span>\n          </div>\n        );\n      });\n    }\n    return imgTag;\n  };\n\n  /* arreglo de miniaturas */\n  const min = Miniatura();\n\n  /* funcion del boton X que se muestra en el centro de las miniaturas, al asomar el mouse */\n  const borrarImagen = (e) => {\n    let at = e.currentTarget.getAttribute(\"atr\");\n    setUris((uris) => uris.filter((item, i) => i != at));\n    setFotos((fotos) => fotos.filter((item, i) => i != at));\n    //setUris(uris.filter((item, i) => i != at));\n    setExcedido(excedido.length > 7);\n  };\n\n  function urlRepresentativo(s) {\n    const permitidos = \"abcdefghijklmnopqrstuvwxyz1234567890\";\n    let str = s;\n    while (str.includes(\"  \")) str = str.replaceAll(\"  \", \" \");\n    for (let k = 0; k <= str.length; k++) {\n      let c = str.charAt(k);\n      if (!permitidos.includes(c.toLowerCase())) str = str.replaceAll(c, \"-\");\n    }\n    while (str.includes(\"--\")) str = str.replaceAll(\"--\", \"-\");\n    return str;\n  }\n\n  function finalizarPublicacion() {\n    let usr_dataid = props.dataId;\n    const imgData = new FormData();\n    if (id) imgData.append(\"id\", id);\n    imgData.append(\"data_id\", usr_dataid);\n    imgData.append(\"categoria\", categoria);\n    imgData.append(\"titulo\", hex(titulo));\n    imgData.append(\"url\", urlRepresentativo(titulo));\n    imgData.append(\"descripcion\", hex(descripcion));\n    imgData.append(\"precio\", precio);\n    imgData.append(\"cantidad\", cantidad.toString());\n    imgData.append(\"envios\", envio ? \"1\" : \"0\");\n    for (let i = 0; i < fotos.length; i++) {\n      imgData.append(\"foto\", fotos[i]);\n    }\n    axios\n      .post(baseURL + publicarURL, imgData)\n      .then((res) => {\n        if (res.data == \"0\") {\n          console.log(res);\n          setPaso(-1);\n        } else console.log(res.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const Categoria = (props) => {\n    let ref = useRef();\n    const catClick = (e) => {\n      let cn = ref.current.getAttribute(\"catnum\");\n      //  setCategoria(cn);\n      setCategoria(props.catnum);\n    };\n\n    return (\n      <div\n        className={\n          categoria === props.catnum\n            ? \"categoria-producto seleccionado d-flex border-box box-shadow-1\"\n            : \"categoria-producto d-flex border-box box-shadow-1\"\n        }\n        catnum={props.catnum}\n        ref={ref}\n        onClick={(e) => catClick(e)}\n      >\n        <div className=\"subcontenedor dflex pointer-events-none user-select-none\">\n          <span className=\"categoria-icono pointer-events-none user-select-none\">\n            {props.datos.icono}\n          </span>\n          <span className=\"categoria-titulo pointer-events-none user-select-none\">\n            {props.datos.titulo}\n          </span>\n        </div>\n      </div>\n    );\n  };\n\n  const ConfirmacionPublicacion = () => {\n    return (\n      <div>\n        <h2>{\"\\u00a1Publicaci\\u00f3n realizada con \\u00e9xito!\"}</h2>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {error && <Redirigir donde=\"/error\" />}\n      {!error && paso === -1 && <ConfirmacionPublicacion />}\n      {!error && mostrar && paso !== -1 && (\n        <Paper className=\"vender-articulo-view\" elevation={3}>\n          <div className=\"titulos-etapas\">\n            <h2 className=\"vender-articulo-titulo titulo-1 gris-oscuro\">\n              {titulos[paso]}\n            </h2>\n          </div>\n          <div>\n            {/* categoria */}\n            {paso === 0 && (\n              <>\n                <div className=\"categorias-contenedor talign-center\">\n                  {categorias.map((item) => (\n                    <Categoria datos={item} catnum={item.categoria} />\n                  ))}\n                </div>\n                <small\n                  className={\n                    categoria === \"-1\" && camposActivados.categoria\n                      ? \"validacion-error\"\n                      : \"validacion-error invisible\"\n                  }\n                >\n                  {\n                    \"Eleg\\u00ed una categor\\u00eda adecuada para tu publicaci\\u00f3n\"\n                  }\n                </small>\n              </>\n            )}\n\n            {/* titulo */}\n            {paso === 1 && (\n              <>\n                <div className=\"titulo-publicacion-contenedor\">\n                  <label htmlFor=\"\">\n                    {\"T\\u00edtulo de la publicaci\\u00f3n\"}\n                  </label>\n                  <input\n                    className=\"n-textfield width100\"\n                    label={\"T\\u00edtulo\"}\n                    variant=\"outlined\"\n                    value={titulo}\n                    onChange={(e) => {\n                      camposActivados.titulo = true;\n                      setTitulo(e.target.value);\n                    }}\n                  />\n                  <small\n                    className={\n                      titulo === \"\" && camposActivados.titulo\n                        ? \"validacion-error\"\n                        : \"validacion-error invisible\"\n                    }\n                  >\n                    {\"Escrib\\u00ed un t\\u00edtulo para tu publicaci\\u00f3n\"}\n                  </small>\n                </div>\n                <br />\n                <div className=\"descripcion-publicacion-contenedor\">\n                  <label htmlFor=\"\">{\"Escriba una descripci\\u00f3n\"}</label>\n                  <textarea\n                    className=\"n-textarea width100\"\n                    rows=\"5\"\n                    value={descripcion}\n                    onChange={(e) => {\n                      setDescripcion(e.target.value);\n                      camposActivados.descripcion = true;\n                    }}\n                  />\n                  <small\n                    className={\n                      descripcion === \"\" && camposActivados.descripcion\n                        ? \"validacion-error\"\n                        : \"validacion-error invisible\"\n                    }\n                  >\n                    {\n                      \"Escrib\\u00ed una descripci\\u00f3n para tu publicaci\\u00f3n\"\n                    }\n                  </small>\n                </div>\n              </>\n            )}\n\n            {/* precio y cantidad */}\n            {paso === 2 && (\n              <>\n                <div className=\"precio-cantidad-publicacion-contenedor\">\n                  <div className=\"precio-cantidad-publicacion__precio\">\n                    <label className=\"form__label dblock\">\n                      Establece un precio:{\" \"}\n                    </label>\n                    <input\n                      className=\"n-textfield width100 xhx\"\n                      label=\"Precio\"\n                      value={precio}\n                      type=\"number\"\n                      onChange={(e) => {\n                        setPrecio(e.target.value);\n                        camposActivados.precio = true;\n                      }}\n                    />\n                  </div>\n                  <br />\n                  <div className=\"precio-cantidad-publicacion__cantidad\">\n                    <label className=\"form__label dblock\">\n                      {\"\\u00bfQu\\u00e9 cantidad dispon\\u00e9s?\"}\n                    </label>\n                    <input\n                      className=\"n-textfield width100\"\n                      label=\"Cantidad\"\n                      value={cantidad}\n                      type=\"number\"\n                      onChange={(e) => {\n                        setCantidad(e.target.value);\n                        camposActivados.cantidad = true;\n                      }}\n                    />\n                  </div>\n                  <br />\n                  <label className=\"form__label dblock\">\n                    {\"Forma de env\\u00edo:\"}\n                  </label>\n                  <select\n                    className=\"n-select\"\n                    onChange={(e) => setEnvio(e.target.value.includes(\"Envio\"))}\n                  >\n                    <option className=\"opt\">Envio a domicilio</option>\n                    <option className=\"opt\">Retiro en el local</option>\n                  </select>\n                </div>\n              </>\n            )}\n\n            {/* fotos */}\n            {paso === 3 && (\n              <>\n                <div className=\"fotos-publicacion-contenedor\">\n                  <div className=\"talign-center\">\n                    <div className=\"subir-fotos\">\n                      <label\n                        htmlFor=\"AAwTrket449EAAmd\"\n                        className=\"button dinline\"\n                      >\n                        <button className=\"vender-articulo__bot-agregar-fotos n-boton dflex pointer-events-none\">\n                          <span className=\"sp-icono pointer-events-none\">\n                            <Camera />\n                          </span>\n                          <span className=\"sp-label pointer-events-none\">\n                            Agregar fotos\n                          </span>\n                        </button>\n                      </label>\n                      <input\n                        className=\"dnone\"\n                        id=\"AAwTrket449EAAmd\"\n                        type=\"file\"\n                        accept=\"image/*\"\n                        multiple\n                        onChange={(e) => {\n                          cargarFotos(e);\n                          camposActivados.fotos = true;\n                        }}\n                      />\n                      <br />\n                      <small\n                        className={\n                          !excedido\n                            ? \"limite-excedido invisible dblock\"\n                            : \"limite-excedido dblock\"\n                        }\n                      >\n                        {\"\\u00a1M\\u00e1ximo 7 fotos!\"}\n                      </small>\n                      <br />\n                      <small\n                        className={\n                          uris.length === 0 && camposActivados.fotos\n                            ? \"validacion-error\"\n                            : \"validacion-error invisible\"\n                        }\n                      >\n                        {\n                          \"Agreg\\u00e1 al menos una foto para tu publicaci\\u00f3n\"\n                        }\n                      </small>\n                      <div className=\"contenedor-fotos-publicacion\">{min}</div>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n\n            {/* final */}\n            {paso === 4 && (\n              <>\n                <div className=\"finalizar-publicacion-contenedor\">\n                  <div className=\"finalizar-campo\">\n                    <h5 className=\"finalizar-campo__info\">Titulo: </h5>\n                    <span className=\"finalizar-campo__valor\">{titulo}</span>\n                  </div>\n                  <br />\n                  <div className=\"finalizar-campo\">\n                    <h5 className=\"finalizar-campo__info\">Descripcion: </h5>\n                    <span\n                      className=\"finalizar-campo__valor\"\n                      style={{ whiteSpace: \"pre-wrap\" }}\n                    >\n                      {descripcion}\n                    </span>\n                  </div>\n                  <br />\n                  <div className=\"finalizar-campo\">\n                    <h5 className=\"finalizar-campo__info\">Precio: </h5>\n                    <span className=\"finalizar-campo__valor\">\n                      {Number(precio) + \"€\"}\n                    </span>\n                  </div>\n                  <br />\n                  <div className=\"finalizar-campo\">\n                    <h5 className=\"finalizar-campo__info\">\n                      Cantidad disponible:{\" \"}\n                    </h5>\n                    <span className=\"finalizar-campo__valor\">{cantidad}</span>\n                  </div>\n                  <br />\n                  <div className=\"finalizar-campo\">\n                    <h5 className=\"finalizar-campo__info\">Envios: </h5>\n                    <span className=\"finalizar-campo__valor\">\n                      {envio ? \"Envio a domicilio\" : \"Solo retiro en local\"}\n                    </span>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"navegacion-pasos dflex justify-sb\">\n            <button\n              className={paso === 0 ? \"invisible n-boton\" : \"n-boton\"}\n              style={{ width: 140 }}\n              onClick={(e) => mover(-1)}\n            >\n              Anterior\n            </button>\n            <div className=\"publicacion-steeper\"></div>\n            <button\n              className=\"n-boton\"\n              style={{ width: 140 }}\n              onClick={(e) => mover(1)}\n            >\n              {paso === 4 ? \"Finalizar\" : \"Siguiente\"}\n            </button>\n          </div>\n        </Paper>\n      )}\n    </>\n  );\n};\n\nexport default Producto;\n"]},"metadata":{},"sourceType":"module"}