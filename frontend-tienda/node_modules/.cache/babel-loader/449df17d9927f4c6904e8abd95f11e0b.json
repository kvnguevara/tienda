{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\Tienda\\\\frontend-tienda\\\\src\\\\componentes\\\\Comprar.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './Comprar.css';\n/* axios */\n\nimport axios from \"axios\";\n/* react-router-dom */\n\nimport { useParams } from \"react-router-dom\";\n/* datos del programa */\n\nimport { baseURL, verArticuloURL, agregarCarritoURL, borrarDelCarritoURL, Redirigir, deshex, arrayBase64 } from \"../datos\";\n\nconst Comprar = props => {\n  const [busqueda, setBusqueda] = useState(true);\n  const [publicacion, setPublicacion] = useState(null);\n  const [miniaturas, setMiniaturas] = useState([]);\n  const [minsel, setMinsel] = useState(-1);\n  const [error, setError] = useState(false);\n  const [descripcionColapsada, setDescripcionColapsada] = useState(false);\n  const [redirigirCarrito, setRedirigirCarrito] = useState(false);\n  const {\n    rnart\n  } = useParams();\n  useEffect(() => {\n    if (busqueda) {\n      let url = baseURL + verArticuloURL + \"?idpublicacion=\" + rnart.toString();\n\n      if (props.usr) {\n        url += \"&dataidusuario=\" + props.usr.dataId;\n      }\n\n      console.log(url);\n      axios.get(url).then(res => {\n        setPublicacion(res.data);\n        setMiniaturas(res.data.imagenes);\n        setMinsel(0);\n        setBusqueda(false);\n        setError(false);\n      }).catch(err => {\n        setError(true);\n      });\n    }\n  }, [busqueda]);\n\n  function agregarAlCarrito() {\n    if (!props.usr) alert(\"Debes iniciar sesion!!!\");else {\n      let url = baseURL + agregarCarritoURL;\n      let formData = new FormData();\n      formData.append(\"idp\", rnart.toString());\n      formData.append(\"dataid\", props.usr.dataId.toString());\n      axios.post(url, formData).then(res => {\n        if (res.data == \"0\") {\n          alert(\"\\u00a1Agregado!\");\n          setRedirigirCarrito(true);\n        }\n      }).catch(err => {});\n    }\n  }\n\n  function borrarDelCarrito() {\n    if (props.usr) {\n      let url = baseURL + borrarDelCarritoURL;\n      let formData = new FormData();\n      formData.append(\"idpublicacion\", rnart.toString());\n      formData.append(\"dataidusuario\", props.usr.dataId.toString());\n      axios.post(url, formData).then(res => {\n        if (res.data == \"0\") {\n          alert(\"\\u00a1Eliminado!\");\n          setRedirigirCarrito(true);\n        }\n      }).catch(err => {});\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirigirCarrito && /*#__PURE__*/React.createElement(Redirigir, {\n    donde: \"/admin/carrito\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 30\n    }\n  }), publicacion === null && !error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-cargando\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 44\n    }\n  }), error && /*#__PURE__*/React.createElement(Redirigir, {\n    donde: \"/error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }), !error && publicacion !== null && minsel != -1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comprar-articulo-view border-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"marco box-shadow-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detalles-compra border-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comprar-articulo__imagen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo-alternativo gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 16\n    }\n  }, deshex(publicacion.titulo)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imagen-visible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img\",\n    src: \"data:image/*;base64,\" + arrayBase64(miniaturas[minsel].bytes),\n    alt: \"Imagen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"miniaturas talign-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, miniaturas.map((item, i) => /*#__PURE__*/React.createElement(\"img\", {\n    key: i,\n    className: \"img-miniatura\",\n    src: \"data:image/*;base64,\" + arrayBase64(item.bytes),\n    onMouseEnter: e => setMinsel(i),\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comprar-articulo__informacion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo-publicacion-compra gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, deshex(publicacion.titulo)), publicacion.cantidad === \"0\" && /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: \"#85203b\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 58\n    }\n  }, \"\\u00a1Producto sin stock!\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"comprar-articulo__precio dblock gris-oscuro roboto-c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"$\" + publicacion.precio), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"gris-oscuro roboto\",\n    style: {\n      margin: \".9em 0 1em\",\n      fontSize: \"1.4rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, \"Detalles del art\\u00edculo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"art-descr roboto cursor-pointer\" + (descripcionColapsada ? \"\" : \" colapsado\"),\n    onClick: _ => setDescripcionColapsada(!descripcionColapsada),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, deshex(publicacion.descripcion)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, publicacion.cantidad !== \"0\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, \"Cantidad disponible: \" + publicacion.cantidad), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dflex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"n-boton a-limpio\",\n    onClick: e => {\n      if (publicacion.enCarrito == \"false\") {\n        borrarDelCarrito();\n      } else agregarAlCarrito();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 56\n    }\n  }, publicacion.enCarrito == \"false\" ? \"BORRAR DEL CARRITO\" : \"AGREGAR AL CARRITO\")))))))));\n};\n\nexport default Comprar;","map":{"version":3,"sources":["C:/Users/kevin/Desktop/Tienda/frontend-tienda/src/componentes/Comprar.jsx"],"names":["React","useState","useEffect","axios","useParams","baseURL","verArticuloURL","agregarCarritoURL","borrarDelCarritoURL","Redirigir","deshex","arrayBase64","Comprar","props","busqueda","setBusqueda","publicacion","setPublicacion","miniaturas","setMiniaturas","minsel","setMinsel","error","setError","descripcionColapsada","setDescripcionColapsada","redirigirCarrito","setRedirigirCarrito","rnart","url","toString","usr","dataId","console","log","get","then","res","data","imagenes","catch","err","agregarAlCarrito","alert","formData","FormData","append","post","borrarDelCarrito","titulo","bytes","map","item","i","e","cantidad","color","precio","margin","fontSize","_","descripcion","enCarrito"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,eAAP;AAEA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA;;AACA,SAASC,OAAT,EAAkBC,cAAlB,EAAkCC,iBAAlC,EAAqDC,mBAArD,EAA0EC,SAA1E,EAAqFC,MAArF,EAA6FC,WAA7F,QAAgH,UAAhH;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AACvB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACe,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,IAAD,CAA9C;AACH,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACmB,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,CAAC,CAAF,CAApC;AACG,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACuB,oBAAD,EAAuBC,uBAAvB,IAAkDxB,QAAQ,CAAC,KAAD,CAAhE;AACA,QAAM,CAACyB,gBAAD,EAAmBC,mBAAnB,IAA0C1B,QAAQ,CAAC,KAAD,CAAxD;AAEA,QAAM;AAAE2B,IAAAA;AAAF,MAAYxB,SAAS,EAA3B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGY,QAAH,EAAa;AACT,UAAIe,GAAG,GAAGxB,OAAO,GAAGC,cAAV,GAA2B,iBAA3B,GAA+CsB,KAAK,CAACE,QAAN,EAAzD;;AACA,UAAGjB,KAAK,CAACkB,GAAT,EAAc;AACVF,QAAAA,GAAG,IAAI,oBAAoBhB,KAAK,CAACkB,GAAN,CAAUC,MAArC;AACH;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACA1B,MAAAA,KAAK,CAACgC,GAAN,CAAUN,GAAV,EACCO,IADD,CACMC,GAAG,IAAI;AACTpB,QAAAA,cAAc,CAACoB,GAAG,CAACC,IAAL,CAAd;AACZnB,QAAAA,aAAa,CAACkB,GAAG,CAACC,IAAJ,CAASC,QAAV,CAAb;AACAlB,QAAAA,SAAS,CAAC,CAAD,CAAT;AACYN,QAAAA,WAAW,CAAC,KAAD,CAAX;AACAQ,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACH,OAPD,EAQCiB,KARD,CAQOC,GAAG,IAAI;AACVlB,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,OAVD;AAWH;AACJ,GAnBQ,EAmBN,CAACT,QAAD,CAnBM,CAAT;;AAqBA,WAAS4B,gBAAT,GAA4B;AAC9B,QAAG,CAAC7B,KAAK,CAACkB,GAAV,EAAeY,KAAK,CAAC,yBAAD,CAAL,CAAf,KACK;AACJ,UAAId,GAAG,GAAGxB,OAAO,GAAGE,iBAApB;AACA,UAAIqC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,KAAhB,EAAuBlB,KAAK,CAACE,QAAN,EAAvB;AACAc,MAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BjC,KAAK,CAACkB,GAAN,CAAUC,MAAV,CAAiBF,QAAjB,EAA1B;AACA3B,MAAAA,KAAK,CAAC4C,IAAN,CAAWlB,GAAX,EAAgBe,QAAhB,EACCR,IADD,CACMC,GAAG,IAAI;AACA,YAAGA,GAAG,CAACC,IAAJ,IAAY,GAAf,EAAoB;AAChBK,UAAAA,KAAK,CAAC,iBAAD,CAAL;AACAhB,UAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACH;AACJ,OANV,EAOCa,KAPD,CAOOC,GAAG,IAAI,CAAE,CAPhB;AAQA;AACE;;AAED,WAASO,gBAAT,GAA4B;AACxB,QAAGnC,KAAK,CAACkB,GAAT,EAAc;AACnB,UAAIF,GAAG,GAAGxB,OAAO,GAAGG,mBAApB;AACA,UAAIoC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiClB,KAAK,CAACE,QAAN,EAAjC;AACAc,MAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiCjC,KAAK,CAACkB,GAAN,CAAUC,MAAV,CAAiBF,QAAjB,EAAjC;AACA3B,MAAAA,KAAK,CAAC4C,IAAN,CAAWlB,GAAX,EAAgBe,QAAhB,EACCR,IADD,CACMC,GAAG,IAAI;AACA,YAAGA,GAAG,CAACC,IAAJ,IAAY,GAAf,EAAoB;AAChBK,UAAAA,KAAK,CAAC,kBAAD,CAAL;AACAhB,UAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACH;AACJ,OANV,EAOCa,KAPD,CAOOC,GAAG,IAAI,CAAE,CAPhB;AAQA;AACE;;AAED,sBACI,0CACCf,gBAAgB,iBAAI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADrB,EAECV,WAAW,KAAK,IAAhB,IAAwB,CAACM,KAAzB,iBAAkC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFnC,EAGCA,KAAK,iBAAI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHV,EAIC,CAACA,KAAD,IAAUN,WAAW,KAAK,IAA1B,IAAkCI,MAAM,IAAI,CAAC,CAA7C,iBACP;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACU;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACL;AAAI,IAAA,SAAS,EAAC,gCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgDV,MAAM,CAACM,WAAW,CAACiC,MAAb,CAAtD,CADK,eAEI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,GAAG,EAAE,yBAAuBtC,WAAW,CAACO,UAAU,CAACE,MAAD,CAAV,CAAmB8B,KAApB,CAA5D;AAAwF,IAAA,GAAG,EAAC,QAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,eAKI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKhC,UAAU,CAACiC,GAAX,CAAe,CAACC,IAAD,EAAOC,CAAP,kBACZ;AACA,IAAA,GAAG,EAAEA,CADL;AAEA,IAAA,SAAS,EAAC,eAFV;AAGA,IAAA,GAAG,EAAE,yBAAuB1C,WAAW,CAACyC,IAAI,CAACF,KAAN,CAHvC;AAIxB,IAAA,YAAY,EAAEI,CAAC,IAAIjC,SAAS,CAACgC,CAAD,CAJJ;AAKA,IAAA,GAAG,EAAC,EALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,CALJ,CADJ,eAiBI;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,uCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuD3C,MAAM,CAACM,WAAW,CAACiC,MAAb,CAA7D,CADJ,EAEKjC,WAAW,CAACuC,QAAZ,KAAyB,GAAzB,iBAAgC;AAAI,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgC,2BAAhC,CAFrC,eAGI;AAAM,IAAA,SAAS,EAAC,sDAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwE,MAAMxC,WAAW,CAACyC,MAA1F,CAHJ,eAII;AACI,IAAA,SAAS,EAAC,oBADd;AAEI,IAAA,KAAK,EAAE;AAACC,MAAAA,MAAM,EAAE,YAAT;AAAuBC,MAAAA,QAAQ,EAAE;AAAjC,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEwD,4BAFxD,CAJJ,eAOI;AACI,IAAA,SAAS,EAAE,qCAAqCnC,oBAAoB,GAAG,EAAH,GAAQ,YAAjE,CADf;AAEI,IAAA,OAAO,EAAEoC,CAAC,IAAInC,uBAAuB,CAAC,CAACD,oBAAF,CAFzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGKd,MAAM,CAACM,WAAW,CAAC6C,WAAb,CAHX,CAPJ,eAaI;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK7C,WAAW,CAACuC,QAAZ,KAAyB,GAAzB,iBACD,uDACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI,0BAA0BvC,WAAW,CAACuC,QAA1C,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAII;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuB;AACnB,IAAA,SAAS,EAAC,kBADS;AAEnB,IAAA,OAAO,EAAED,CAAC,IAAI;AACV,UAAGtC,WAAW,CAAC8C,SAAZ,IAAyB,OAA5B,EAAqC;AACjCd,QAAAA,gBAAgB;AACnB,OAFD,MAGKN,gBAAgB;AACxB,KAPkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQlB1B,WAAW,CAAC8C,SAAZ,IAAyB,OAAzB,GAAmC,oBAAnC,GAA0D,oBARxC,CAAvB,CAJJ,CAFJ,CAbJ,CAjBJ,CADJ,CADV,CALM,CADJ;AAgEH,CAnID;;AAqIA,eAAelD,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Comprar.css';\n\n/* axios */\nimport axios from \"axios\";\n\n/* react-router-dom */\nimport { useParams } from \"react-router-dom\";\n\n/* datos del programa */\nimport { baseURL, verArticuloURL, agregarCarritoURL, borrarDelCarritoURL, Redirigir, deshex, arrayBase64 } from \"../datos\";\n\nconst Comprar = (props) => {\n    const [busqueda, setBusqueda] = useState(true);\n    const [publicacion, setPublicacion] = useState(null);\n\tconst [miniaturas, setMiniaturas] = useState([]);\n\tconst [minsel, setMinsel] = useState(-1);\n    const [error, setError] = useState(false);\n    const [descripcionColapsada, setDescripcionColapsada] = useState(false);\n    const [redirigirCarrito, setRedirigirCarrito] = useState(false);\n\n    const { rnart } = useParams();\n    \n    useEffect(() => {\n        if(busqueda) {\n            let url = baseURL + verArticuloURL + \"?idpublicacion=\" + rnart.toString();\n            if(props.usr) {\n                url += \"&dataidusuario=\" + props.usr.dataId;\n            }\n            console.log(url);\n            axios.get(url)\n            .then(res => {\n                setPublicacion(res.data);\n\t\t\t\tsetMiniaturas(res.data.imagenes);\n\t\t\t\tsetMinsel(0);\n                setBusqueda(false);\n                setError(false);\n            })\n            .catch(err => {\n                setError(true);\n            });\n        }\n    }, [busqueda]); \n\n    function agregarAlCarrito() {\n\t\tif(!props.usr) alert(\"Debes iniciar sesion!!!\")\n\t\telse {\n\t\t\tlet url = baseURL + agregarCarritoURL;\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append(\"idp\", rnart.toString());\n\t\t\tformData.append(\"dataid\", props.usr.dataId.toString());\n\t\t\taxios.post(url, formData)\n\t\t\t.then(res => {\n                if(res.data == \"0\") {\n                    alert(\"\\u00a1Agregado!\");\n                    setRedirigirCarrito(true);\n                }\n            })\n\t\t\t.catch(err => {});\n\t\t}\n    }\n\n    function borrarDelCarrito() {\n        if(props.usr) {\n\t\t\tlet url = baseURL + borrarDelCarritoURL;\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append(\"idpublicacion\", rnart.toString());\n\t\t\tformData.append(\"dataidusuario\", props.usr.dataId.toString());\n\t\t\taxios.post(url, formData)\n\t\t\t.then(res => {\n                if(res.data == \"0\") {\n                    alert(\"\\u00a1Eliminado!\");\n                    setRedirigirCarrito(true);\n                }\n            })\n\t\t\t.catch(err => {});\n\t\t}\n    }\n    \n    return(\n        <>\n        {redirigirCarrito && <Redirigir donde=\"/admin/carrito\" /> }\n        {publicacion === null && !error && <div className=\"div-cargando\"/> }\n        {error && <Redirigir donde=\"/error\" /> }\n        {!error && publicacion !== null && minsel != -1 &&\n\t\t<div className=\"comprar-articulo-view border-box\">\n            <div className=\"marco box-shadow-1\">\n                <div className=\"detalles-compra border-box\">\n                    <div className=\"comprar-articulo__imagen\">\n\t\t\t            <h2 className=\"titulo-alternativo gris-oscuro\">{deshex(publicacion.titulo)}</h2>\n                        <div className=\"imagen-visible\">\n                            <img className=\"img\" src={\"data:image/*;base64,\"+arrayBase64(miniaturas[minsel].bytes)} alt=\"Imagen\"/>\n                        </div>\n                        <div className=\"miniaturas talign-center\">\n                            {miniaturas.map((item, i) => (\n                                <img    \n                                key={i}\n                                className=\"img-miniatura\"\n                                src={\"data:image/*;base64,\"+arrayBase64(item.bytes)}\n\t\t\t\t\t\t\t\tonMouseEnter={e => setMinsel(i)}\n                                alt=\"\" />\n                            ))}\n                        </div>\n                    </div>\n                    <div className=\"comprar-articulo__informacion\">\n                        <h2 className=\"titulo-publicacion-compra gris-oscuro\">{deshex(publicacion.titulo)}</h2>\n                        {publicacion.cantidad === \"0\" && <h3 style={{color: \"#85203b\"}}>{\"\\u00a1Producto sin stock!\"}</h3>}\n                        <span className=\"comprar-articulo__precio dblock gris-oscuro roboto-c\">{\"$\" + publicacion.precio}</span>\n                        <p \n                            className=\"gris-oscuro roboto\"\n                            style={{margin: \".9em 0 1em\", fontSize: \"1.4rem\"}}>{\"Detalles del art\\u00edculo\"}</p>\n                        <div\n                            className={\"art-descr roboto cursor-pointer\" + (descripcionColapsada ? \"\" : \" colapsado\")}\n                            onClick={_ => setDescripcionColapsada(!descripcionColapsada)} >\n                            {deshex(publicacion.descripcion)}\n                        </div>\n                        \n                        <div className=\"\">\n                            {publicacion.cantidad !== \"0\" && \n                            <>\n                                <br/>\n                                <p>{\"Cantidad disponible: \" + publicacion.cantidad}</p>\n                                <br/>\n                                <div className=\"dflex\"><a  \n                                    className=\"n-boton a-limpio\" \n                                    onClick={e => {\n                                        if(publicacion.enCarrito == \"false\") {\n                                            borrarDelCarrito();\n                                        }\n                                        else agregarAlCarrito()\n                                    }} >\n                                    {publicacion.enCarrito == \"false\" ? \"BORRAR DEL CARRITO\" : \"AGREGAR AL CARRITO\"}\n                                </a>\n                                </div>\n                            </>\n                        }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>}\n        </>\n    )\n};\n\nexport default Comprar;\n"]},"metadata":{},"sourceType":"module"}