{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\Tienda\\\\frontend-tienda\\\\src\\\\componentes\\\\IniciarSesion.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './IniciarSesion.css';\n/* axios */\n\nimport axios from 'axios';\n/* react-router-dom */\n\nimport { Redirect } from \"react-router-dom\";\n/* js-cookies */\n\nimport Cookies from \"js-cookie\";\n/* datos del programa */\n\nimport { baseURL, iniciarSesionURL, Redirigir, encriptar, hex } from \"../datos\";\n/* vista */\n\nconst IniciarSesion = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [redireccionar, setRedireccionar] = useState(false);\n\n  function ingresar() {\n    let url = baseURL + iniciarSesionURL;\n    let formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    axios.post(url, formData).then(res => {\n      if (res.data == \"-1\") {\n        setError(true);\n      } else {\n        let datos = JSON.stringify(res.data);\n        let enc_usr_data = encriptar(datos);\n        let hex_usr_data = hex(enc_usr_data);\n        Cookies.set(\"usr\", hex_usr_data, {\n          expires: 999\n        });\n        setRedireccionar(true);\n      }\n    }).catch(err => {});\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inicio-sesion-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, redireccionar && /*#__PURE__*/React.createElement(Redirigir, {\n    donde: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inicio-sesion-form border-box box-shadow-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"inicio-sesion-form__titulo form__titulo talign-center roboto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Bienvenido\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inicio-sesion__nombre-usuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"dblock form__label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"n-textfield width100\",\n    type: \"email\",\n    variant: \"outlined\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inicio-sesion__password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"dblock form__label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, 'Contrase\\u00f1a'), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"n-textfield width100\",\n    type: \"password\",\n    variant: \"outlined\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  })), error && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"validacion-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 28\n    }\n  }, \"Error: correo o contrase\\u00f1a incorrectos.\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"talign-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"n-boton\",\n    onClick: () => ingresar(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Iniciar sesi\\u00f3n\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/registro\",\n    className: \"dblock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"Registrarse\"))));\n};\n\nexport default IniciarSesion;","map":{"version":3,"sources":["C:/Users/kevin/Desktop/Tienda/frontend-tienda/src/componentes/IniciarSesion.jsx"],"names":["React","useState","useEffect","axios","Redirect","Cookies","baseURL","iniciarSesionURL","Redirigir","encriptar","hex","IniciarSesion","email","setEmail","password","setPassword","error","setError","redireccionar","setRedireccionar","ingresar","url","formData","FormData","append","post","then","res","data","datos","JSON","stringify","enc_usr_data","hex_usr_data","set","expires","catch","err","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './IniciarSesion.css';\n\n/* axios */\nimport axios from 'axios';\n\n/* react-router-dom */\nimport { Redirect } from \"react-router-dom\";\n\n/* js-cookies */\nimport Cookies from \"js-cookie\";\n\n/* datos del programa */\nimport { baseURL, iniciarSesionURL, Redirigir, encriptar, hex } from \"../datos\";\n\n/* vista */\n\nconst IniciarSesion = () => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(false);\n    const [redireccionar, setRedireccionar] = useState(false);\n\n    function ingresar() {\n        let url = baseURL + iniciarSesionURL;\n        let formData = new FormData();\n        formData.append(\"email\", email);\n        formData.append(\"password\", password);\n    \n        axios.post(url, formData)\n        .then(res => {\n            if(res.data == \"-1\") {\n                setError(true);\n            }\n            else {\n                let datos = JSON.stringify(res.data);\n                let enc_usr_data = encriptar(datos);\n                let hex_usr_data = hex(enc_usr_data);\n                Cookies.set(\"usr\", hex_usr_data, { expires: 999 } );\n                setRedireccionar(true);\n            }\n        })\n        .catch(err => {});\n    }\n\n    return(\n        <div className='inicio-sesion-view'>\n            {redireccionar && <Redirigir donde=\"/\" />}\n            <div className='inicio-sesion-form border-box box-shadow-2'>\n                <h2 className='inicio-sesion-form__titulo form__titulo talign-center roboto'>Bienvenido</h2>\n                <div className='inicio-sesion__nombre-usuario'>\n                    <label className='dblock form__label'>Email</label>\n                    <input\n                            className=\"n-textfield width100\"\n                            type=\"email\"\n                            variant=\"outlined\"\n                            value={email}\n                            onChange={e => setEmail(e.target.value)} />\n                    \n                </div>\n                <br/>\n                <div className='inicio-sesion__password'>\n                    <label className='dblock form__label'>{'Contrase\\u00f1a'}</label>\n                    <input\n                            className=\"n-textfield width100\"\n                            type=\"password\"\n                            variant=\"outlined\"\n                            value={password}\n                            onChange={e => setPassword(e.target.value)} />\n                </div>\n                { error && <span className=\"validacion-error\">{\"Error: correo o contrase\\u00f1a incorrectos.\"}</span> }\n                <br/>\n                <br/>\n                <div className='talign-center'>\n                    <button\n                        className=\"n-boton\"\n                        onClick={() => ingresar()} >\n                        {\"Iniciar sesi\\u00f3n\"}\n                    </button>\n                    <br/><br/>\n                    <a href=\"/registro\" className='dblock'>Registrarse</a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default IniciarSesion;\n"]},"metadata":{},"sourceType":"module"}