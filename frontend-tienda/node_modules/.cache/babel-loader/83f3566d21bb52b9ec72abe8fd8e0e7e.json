{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\Tienda\\\\frontend-tienda\\\\src\\\\componentes\\\\Admin.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './Admin.css';\n/* redux */\n\nimport { useSelector } from \"react-redux\";\n/* datos del programa */\n\nimport { baseURL, verComprasURL, verVentasURL, verPublicacionesURL, verCarritoURL, pagarArticuloURL, eliminarPublicacionURL, deshex, arrayBase64 } from \"../datos\";\nimport { FormularioPago } from \"./PagarCompra\";\n/* axios */\n\nimport axios from \"axios\";\n\nconst Informacion = props => {\n  const [formulario, setFormulario] = useState(false);\n  const [exito, setExito] = useState(false);\n  const [datos, setDatos] = useState([]);\n  const [total, setTotal] = useState(\"\");\n  const [usr, setUsr] = useState(null);\n  const titulos = [\"Compras\", \"Ventas\", \"Publicaciones\", \"Carrito\"];\n  const verbos = [\"Comprado\", \"Vendido\", \"Publicado\", \"Agregado\"];\n  let usr_tmp = useSelector(state => state.usuario);\n  if (usr_tmp && !usr) setUsr(usr_tmp);\n  let sel = props.sel;\n  useEffect(() => {\n    if (usr) {\n      let url = baseURL;\n      if (sel === \"0\") url += verComprasURL;\n      if (sel === \"1\") url += verVentasURL;\n      if (sel === \"2\") url += verPublicacionesURL;\n      if (sel === \"3\") url += verCarritoURL;\n      let formData = new FormData();\n      formData.append(\"dataid\", usr.dataId);\n      axios.post(url, formData).then(res => {\n        if (sel === \"0\") setDatos(res.data.map((item, i) => [item, 1]));\n        if (sel === \"1\") setDatos(res.data.map((item, i) => [item, 1]));\n        if (sel === \"2\") setDatos(res.data.map((item, i) => [item, 1]));\n\n        if (sel === \"3\") {\n          setDatos(res.data.map((item, i) => [item, 1]));\n          setTotal(\"0.00\");\n        }\n\n        ;\n      });\n    }\n  }, [usr]);\n\n  function sumar() {\n    let suma = 0;\n    datos.forEach(item => {\n      suma += Number(item[0].precio) * Number(item[1]);\n    });\n    return suma.toString();\n  }\n\n  const Item = props => {\n    let dato = props.d[0];\n    let indice = props.indice;\n    let sel = props.sel;\n    const [borrar, setBorrar] = useState(false);\n    const [cantidad, setCantidad] = useState(props.d[1]); // cantidad de cada item en el carrito\n\n    const [recargar, setRecargar] = useState(false);\n    useEffect(() => {\n      if (recargar) window.location.reload();\n      setRecargar(false);\n    }, [recargar]);\n\n    function eliminarPublicacion(id) {\n      let url = baseURL + eliminarPublicacionURL;\n      let formData = new FormData();\n      formData.append(\"idp\", id.toString());\n      axios.post(url, formData).then(res => {\n        if (res.data == \"0\") {\n          alert(\"Eliminado\");\n          setRecargar(true);\n        } else console.log(res.data);\n      }).catch(err => console.log(err));\n    }\n\n    function cantidades() {\n      let a = [];\n\n      for (let i = 0; i < parseInt(dato.cantidadTotal); i++) {\n        a.push((i + 1).toString());\n      }\n\n      return a;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"dblock li-item \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dblock gris-mas-oscuro\",\n      href: \"/comprar/\" + dato.id + \"/\" + dato.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item-datos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"li-item__icono\",\n      src: \"data:image/*;base64,\" + arrayBase64(dato.miniatura),\n      width: \"48px\",\n      height: \"48px\",\n      alt: \"Imagen del articulo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__nombre-articulo roboto-c\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"a-limpio2 gris-mas-oscuro\",\n      href: \"/comprar/\" + dato.id + \"/\" + dato.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 59\n      }\n    }, deshex(dato.titulo))), sel === \"0\" && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"roboto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 24\n      }\n    }, \"Vendedor: \", dato.vendedor), sel === \"1\" && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"roboto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 24\n      }\n    }, \"Comprador: \", dato.comprador), sel === \"2\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"chip\",\n      href: \"/editar/\" + dato.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 10\n      }\n    }, \"Editar publicacion\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"chip\",\n      onClick: _ => setBorrar(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 10\n      }\n    }, \"Eliminar\")), sel === \"3\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 10\n      }\n    }, \"Cantidad:\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: e => {\n        setCantidad(e.target.value);\n        let nuevosDatos = [...datos];\n        nuevosDatos[indice][1] = e.target.value;\n        setDatos(nuevosDatos);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 10\n      }\n    }, cantidades().map(item => /*#__PURE__*/React.createElement(\"option\", {\n      selected: item == cantidad,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 37\n      }\n    }, item))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__fecha dflex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"roboto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 8\n      }\n    }, borrar ? \"\\u00bfBorrar esta publicaci\\u00f3n?\" : verbos[sel] + \" el \" + dato.fechadia + \"/\" + dato.fechames + \"/\" + dato.fechayear)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__precio dflex justify-sb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"li-item__precio roboto-c\" + (borrar ? \" cursor-pointer\" : \"\"),\n      onClick: _ => {\n        if (borrar) eliminarPublicacion(dato.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 8\n      }\n    }, borrar ? \"Si\" : \"$\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"li-item__precio roboto-c\" + (borrar ? \" cursor-pointer\" : \"\"),\n      onClick: _ => setBorrar(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 8\n      }\n    }, borrar ? \"No\" : dato.precio * cantidad))))));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, exito && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \" titulo__caption roboto-c\",\n    style: {\n      textAlign: \"center\",\n      paddingTop: \"2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 6\n    }\n  }, \"\\u00a1Compra terminada con \\u00e9xito!\")), !exito && !formulario && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titulo__contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo__caption roboto-c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 6\n    }\n  }, titulos[sel])), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lista-items border-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }\n  }, datos.length === 0 && !usr && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 37\n    }\n  }, \"Cargando...\"), datos.length === 0 && usr && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 36\n    }\n  }, sel === \"3\" ? \"No hay items en el carrito\" : \"No hay \" + titulos[sel].toLowerCase() + \" que mostrar.\"), datos.map((item, i) => /*#__PURE__*/React.createElement(Item, {\n    key: i,\n    sel: sel,\n    d: item,\n    indice: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }))), datos.length !== 0 && sel === \"3\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"total-carrito-admin gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 6\n    }\n  }, \"Total: $ \", sumar()), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bot-finalizar-compra n-boton a-limpio\",\n    onClick: _ => {\n      setFormulario(!formulario);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 6\n    }\n  }, \"FINALIZAR COMPRA\"))), !exito && formulario && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormularioPago, {\n    idp: datos.map(item => item[0].id),\n    cants: datos.map(item => item[1]),\n    precioTotal: sumar(),\n    usr_id: usr.dataId,\n    exito: setExito,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 4\n    }\n  })));\n};\n\nconst MenuLateral = props => {\n  const listaItems = [{\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-shopping-bag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Compras\",\n    direccion: \"0\",\n    url: \"/compras\"\n  }, {\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-hand-holding-usd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Ventas\",\n    direccion: \"1\",\n    url: \"/ventas\"\n  }, {\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-clone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Publicaciones\",\n    direccion: \"2\",\n    url: \"/publicaciones\"\n  }, {\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-shopping-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Carrito\",\n    direccion: \"3\",\n    url: \"/carrito\"\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin__menu-lateral\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, listaItems.map(item => /*#__PURE__*/React.createElement(\"a\", {\n    className: \"admin__item dblock a-limpio2\",\n    href: \"/admin\" + item.url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"admin__item_icono\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 6\n    }\n  }, item.icono), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"admin__item_texto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 6\n    }\n  }, item.texto))));\n};\n\nconst Admin = props => {\n  const [pagina, setPagina] = useState(props.pagina); // const usr = props.usr;\n\n  let usr = useSelector(state => state.usuario);\n  /* useEffect(() => {\n  \tif(busqueda){\n  \t\tlet url = baseURL;\n  \t\tif(pagina === \"0\") url += verComprasURL;\n  \t\tif(pagina === \"1\") url += verVentasURL;\n  \t\tif(pagina === \"2\") url += verPublicacionesURL;\n  \t\tif(pagina === \"3\") url += verCarritoURL\n  \t\tlet formData = new FormData();\n  \t\tformData.append(\"dataid\", usr.dataId);\n  \t\t\taxios.post(url, formData)\n  \t\t.then(res => {\n  \t\t\tif(pagina === \"0\") setCompras(res.data);\n  \t\t\tif(pagina === \"1\") setVentas(res.data);\n  \t\t\tif(pagina === \"2\") setPublicaciones(res.data);\t\n  \t\t\tif(pagina === \"3\") { setCarrito(res.data.items); setTotal(res.data.total) }\n  \t\t\tsetBusqueda(false);\n  \t\t})\n  \t\t.catch(err => {});\n  \t}\n  }, [busqueda]) */\n\n  function clickMenuLateral(pag) {\n    setPagina(pag);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(MenuLateral, {\n    accion: clickMenuLateral,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Informacion, {\n    sel: pagina,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 5\n    }\n  })));\n};\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/kevin/Desktop/Tienda/frontend-tienda/src/componentes/Admin.jsx"],"names":["React","useState","useEffect","useSelector","baseURL","verComprasURL","verVentasURL","verPublicacionesURL","verCarritoURL","pagarArticuloURL","eliminarPublicacionURL","deshex","arrayBase64","FormularioPago","axios","Informacion","props","formulario","setFormulario","exito","setExito","datos","setDatos","total","setTotal","usr","setUsr","titulos","verbos","usr_tmp","state","usuario","sel","url","formData","FormData","append","dataId","post","then","res","data","map","item","i","sumar","suma","forEach","Number","precio","toString","Item","dato","d","indice","borrar","setBorrar","cantidad","setCantidad","recargar","setRecargar","window","location","reload","eliminarPublicacion","id","alert","console","log","catch","err","cantidades","a","parseInt","cantidadTotal","push","miniatura","titulo","vendedor","comprador","_","marginRight","e","target","value","nuevosDatos","fechadia","fechames","fechayear","textAlign","paddingTop","length","toLowerCase","MenuLateral","listaItems","icono","texto","direccion","Admin","pagina","setPagina","clickMenuLateral","pag"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Admin.css';\n\n/* redux */\nimport { useSelector } from \"react-redux\";\n\n/* datos del programa */\nimport { \n\tbaseURL, \n\tverComprasURL, \n\tverVentasURL, \n\tverPublicacionesURL, \n\tverCarritoURL, \n\tpagarArticuloURL, \n\teliminarPublicacionURL,\n\tdeshex, \n\tarrayBase64 } from \"../datos\";\n\nimport { FormularioPago } from \"./PagarCompra\";\n\n/* axios */\nimport axios from \"axios\";\n\nconst Informacion = (props) => {\n\tconst [formulario, setFormulario] = useState(false);\n\tconst [exito, setExito] = useState(false);\n\tconst [datos, setDatos] = useState([]);\n\tconst [total, setTotal] = useState(\"\");\n\tconst [usr, setUsr] = useState(null);\n\n\tconst titulos = [\"Compras\", \"Ventas\", \"Publicaciones\", \"Carrito\"];\n\tconst verbos = [\"Comprado\", \"Vendido\", \"Publicado\", \"Agregado\"];\n\n\tlet usr_tmp = useSelector(state => state.usuario);\n\tif(usr_tmp && !usr) setUsr(usr_tmp);\n\n\tlet sel = props.sel;\n\tuseEffect(() => {\n\t\tif(usr) {\n\t\t\tlet url = baseURL;\n\t\t\tif(sel === \"0\") url += verComprasURL;\n\t\t\tif(sel === \"1\") url += verVentasURL;\n\t\t\tif(sel === \"2\") url += verPublicacionesURL;\n\t\t\tif(sel === \"3\") url += verCarritoURL\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append(\"dataid\", usr.dataId);\n\t\t\taxios.post(url, formData)\n\t\t\t.then(res => {\n\t\t\t\tif(sel === \"0\") setDatos(res.data.map((item, i) => [item, 1]));\n\t\t\t\tif(sel === \"1\") setDatos(res.data.map((item, i) => [item, 1]));\n\t\t\t\tif(sel === \"2\") setDatos(res.data.map((item, i) => [item, 1]));\n\t\t\t\tif(sel === \"3\") {setDatos(res.data.map((item, i) => [item, 1])); setTotal(\"0.00\")};\n\t\t\t});\n\t\t}\n\t}, [usr])\n\n\tfunction sumar() {\n\t\tlet suma = 0;\n\t\tdatos.forEach(item => {\n\t\t\tsuma += Number(item[0].precio) * Number(item[1]);\n\t\t});\n\t\treturn suma.toString();\n\t}\n\n    const Item = (props) => {\n\t\tlet dato = props.d[0];\n\t\tlet indice = props.indice;\n\t\tlet sel = props.sel;\n\t\tconst [borrar, setBorrar] = useState(false);\n\t\tconst [cantidad, setCantidad] = useState(props.d[1]); // cantidad de cada item en el carrito\n\t\tconst [recargar, setRecargar] = useState(false);\n\n\t\tuseEffect(() => {if(recargar) window.location.reload(); setRecargar(false)}, [recargar]);\n\n\t\tfunction eliminarPublicacion(id) {\n\t\t\tlet url = baseURL + eliminarPublicacionURL;\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append(\"idp\", id.toString());\n\t\t\taxios.post(url, formData)\n\t\t\t.then(res => {\n\t\t\t\tif(res.data == \"0\") {\n\t\t\t\t\talert(\"Eliminado\");\n\t\t\t\t\tsetRecargar(true);\n\t\t\t\t}\n\t\t\t\telse console.log(res.data);\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t\t}\n\n\t\tfunction cantidades() {\n\t\t\tlet a = [];\n\t\t\tfor(let i = 0; i < parseInt(dato.cantidadTotal); i++ ) {\n\t\t\t\ta.push((i + 1).toString());\n\t\t\t}\n\t\t\treturn a;\n\t\t}\n\n        return(\n\t\t\t<>\n\t\t\t<li className=\"dblock li-item \"> \n                <div className=\"dblock gris-mas-oscuro\" href={\"/comprar/\"+dato.id+\"/\"+dato.url}>\n\t\t\t\t\t<div className=\"li-item-datos\">\n\t\t\t\t\t\t<img className=\"li-item__icono\" src={\"data:image/*;base64,\"+arrayBase64(dato.miniatura)} width=\"48px\" height=\"48px\" alt=\"Imagen del articulo\"/>\n                \n\t\t\t\t\t\t<div className=\"li-item__info\">\n\t\t\t\t\t\t\t<div className=\"li-item__nombre-articulo roboto-c\"><a className=\"a-limpio2 gris-mas-oscuro\" href={\"/comprar/\"+dato.id+\"/\"+dato.url}>{deshex(dato.titulo)}</a></div>\n\t\t\t\t\t\t\t{sel === \"0\" && <div className=\"roboto\">Vendedor: {dato.vendedor}</div>}\n\t\t\t\t\t\t\t{sel === \"1\" && <div className=\"roboto\">Comprador: {dato.comprador}</div>}\n\t\t\t\t\t\t\t{sel === \"2\" && \n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<a className=\"chip\" href={\"/editar/\"+dato.id}>\n\t\t\t\t\t\t\t\t\t\tEditar publicacion\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<span className=\"chip\" onClick={ _ => setBorrar(true)}>Eliminar</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{sel === \"3\" && \n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<span style={{marginRight: 10}}>Cantidad:</span>\n\t\t\t\t\t\t\t\t\t<select onChange={e => {\n\t\t\t\t\t\t\t\t\t\tsetCantidad(e.target.value); \n\t\t\t\t\t\t\t\t\t\tlet nuevosDatos = [...datos];\n\t\t\t\t\t\t\t\t\t\tnuevosDatos[indice][1] = e.target.value;\n\t\t\t\t\t\t\t\t\t\tsetDatos(nuevosDatos);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{cantidades().map(item => <option selected={item == cantidad} >{item}</option>)}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t\t<div className=\"li-item__fecha dflex\">\n\t\t\t\t\t\t\t<span className=\"roboto\">\n\t\t\t\t\t\t\t\t{borrar ? \"\\u00bfBorrar esta publicaci\\u00f3n?\" : verbos[sel] + \" el \" + dato.fechadia + \"/\" + dato.fechames + \"/\" + dato.fechayear}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"li-item__precio dflex justify-sb\">\n\t\t\t\t\t\t\t<span className={\"li-item__precio roboto-c\" + (borrar ? \" cursor-pointer\" : \"\")} onClick={_ => {if(borrar) eliminarPublicacion(dato.id)}}>{borrar ? \"Si\" : \"$\"}</span>\n\t\t\t\t\t\t\t<span className={\"li-item__precio roboto-c\" + (borrar ? \" cursor-pointer\" : \"\")} onClick={_ => setBorrar(false)} >{borrar ? \"No\" : (dato.precio * cantidad)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </li>\n\t\t\t</>\n        )\n\t};\n    return(\n        <>\n\t\t\t{exito && \n\t\t\t\t<>\n\t\t\t\t\t<h2\n\t\t\t\t\t\tclassName=\" titulo__caption roboto-c\"\n\t\t\t\t\t\tstyle={{ textAlign:\"center\", paddingTop: \"2em\" }} >\n\t\t\t\t\t\t{\"\\u00a1Compra terminada con \\u00e9xito!\"}\n\t\t\t\t\t</h2>\n\t\t\t\t</>\n\t\t\t}\n\t\t\t{!exito && !formulario && \n\t\t\t<>\n\t\t\t\t{/* titulo de cada seccion */}\n\t\t\t\t<div className=\"titulo__contenedor\">\n\t\t\t\t\t<h2 className=\"titulo__caption roboto-c\">{titulos[sel]}</h2>\n\t\t\t\t</div>\n\n\t\t\t\t{/* listado de compras/ventas/carrito... */}\n\t\t\t\t<div className=\"lista-items border-box\">\n\t\t\t\t\t{datos.length === 0 && !usr && <span className=\"gris-oscuro\">Cargando...</span> }\n\t\t\t\t\t{datos.length === 0 && usr && <span className=\"gris-oscuro\">{sel === \"3\" ? \"No hay items en el carrito\" : \"No hay \" + titulos[sel].toLowerCase() + \" que mostrar.\"}</span> }\n\t\t\t\t\t{datos.map((item, i) => \n\t\t\t\t\t\t<Item key={i} sel={sel} d={item} indice={i} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{/* el total a pagar por todos los items del carrito */}\n\t\t\t\t{datos.length !== 0 && sel === \"3\" &&\n\t\t\t\t<>\n\t\t\t\t\t<span className=\"total-carrito-admin gris-oscuro\">Total: $ {sumar()}</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"bot-finalizar-compra n-boton a-limpio\"\n\t\t\t\t\t\tonClick={_ => {\n\t\t\t\t\t\t\tsetFormulario(!formulario)\n\t\t\t\t\t\t}} >\n\t\t\t\t\t\tFINALIZAR COMPRA\n\t\t\t\t\t</span>\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</>\n\t\t\t}\n\t\t\t{!exito && formulario && \n\t\t\t<>\n\t\t\t<FormularioPago idp={datos.map(item => item[0].id)} cants={datos.map(item => item[1])} precioTotal={sumar()} usr_id={usr.dataId} exito={setExito} />\n\t\t\t</>\n\t\t\t}\n        </>\n    )\n};\n\n\nconst MenuLateral = (props) => {\n\tconst listaItems = [\n    \t{icono: <i className=\"fas fa-shopping-bag\"></i>, texto: \"Compras\", direccion: \"0\", url: \"/compras\"},\n    \t{icono: <i className=\"fas fa-hand-holding-usd\"></i>, texto: \"Ventas\", direccion: \"1\", url: \"/ventas\"},\n    \t{icono: <i className=\"fas fa-clone\"></i>, texto: \"Publicaciones\", direccion: \"2\", url: \"/publicaciones\"},\n    \t{icono: <i className=\"fas fa-shopping-cart\"></i>, texto: \"Carrito\", direccion: \"3\", url: \"/carrito\"},\n\t];\n\n    return(\n        <div className=\"admin__menu-lateral\">\n\t\t\t{listaItems.map(item => \n\t\t\t\t<a className=\"admin__item dblock a-limpio2\" href={\"/admin\"+item.url}>\n\t\t\t\t\t<span className=\"admin__item_icono\">{item.icono}</span>\n\t\t\t\t\t<span className=\"admin__item_texto\">{item.texto}</span>\n\t\t\t\t</a>\n            )}\n        </div>\n    )\n}\n\nconst Admin = (props) => {\n\tconst [pagina, setPagina] = useState(props.pagina);\n\n\t// const usr = props.usr;\n    let usr = useSelector(state => state.usuario);\n\n\t/* useEffect(() => {\n\t\tif(busqueda){\n\t\t\tlet url = baseURL;\n\t\t\tif(pagina === \"0\") url += verComprasURL;\n\t\t\tif(pagina === \"1\") url += verVentasURL;\n\t\t\tif(pagina === \"2\") url += verPublicacionesURL;\n\t\t\tif(pagina === \"3\") url += verCarritoURL\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append(\"dataid\", usr.dataId);\n\n\t\t\taxios.post(url, formData)\n\t\t\t.then(res => {\n\t\t\t\tif(pagina === \"0\") setCompras(res.data);\n\t\t\t\tif(pagina === \"1\") setVentas(res.data);\n\t\t\t\tif(pagina === \"2\") setPublicaciones(res.data);\t\n\t\t\t\tif(pagina === \"3\") { setCarrito(res.data.items); setTotal(res.data.total) }\n\t\t\t\tsetBusqueda(false);\n\t\t\t})\n\t\t\t.catch(err => {});\n\t\t}\n\t}, [busqueda]) */\n\n\tfunction clickMenuLateral(pag) {\n\t\tsetPagina(pag);\n\t}\n\n\treturn(\n\t\t<div className=\"admin-view\">\n\t\t\t<MenuLateral accion={clickMenuLateral} />\n\t\t\t<div className=\"admin-panel\">\n\t\t\t\t<Informacion sel={pagina} />\n\t\t\t</div>\n\t\t</div>\n\t)\n};\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}