{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\Tienda\\\\frontend-tienda\\\\src\\\\componentes\\\\Admin.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Admin.css\";\n/* redux */\n\nimport { useSelector } from \"react-redux\";\n/* datos del programa */\n\nimport { baseURL, verComprasURL, verVentasURL, verPublicacionesURL, verCarritoURL, pagarArticuloURL, eliminarPublicacionURL, deshex, arrayBase64 } from \"../datos\";\nimport { FormularioPago } from \"./PagarCompra\";\n/* axios */\n\nimport axios from \"axios\";\n\nconst Informacion = props => {\n  const [formulario, setFormulario] = useState(false);\n  const [exito, setExito] = useState(false);\n  const [datos, setDatos] = useState([]);\n  const [total, setTotal] = useState(\"\");\n  const [usr, setUsr] = useState(null);\n  const titulos = [\"Compras\", \"Ventas\", \"Publicaciones\", \"Carrito\"];\n  const verbos = [\"Comprado\", \"Vendido\", \"Publicado\", \"Agregado\"];\n  let usr_tmp = useSelector(state => state.usuario);\n  if (usr_tmp && !usr) setUsr(usr_tmp);\n  let sel = props.sel;\n  useEffect(() => {\n    if (usr) {\n      let url = baseURL;\n      if (sel === \"0\") url += verComprasURL;\n      if (sel === \"1\") url += verVentasURL;\n      if (sel === \"2\") url += verPublicacionesURL;\n      if (sel === \"3\") url += verCarritoURL;\n      let formData = new FormData();\n      formData.append(\"dataid\", usr.dataId);\n      axios.post(url, formData).then(res => {\n        if (sel === \"0\") setDatos(res.data.map((item, i) => [item, 1]));\n        if (sel === \"1\") setDatos(res.data.map((item, i) => [item, 1]));\n        if (sel === \"2\") setDatos(res.data.map((item, i) => [item, 1]));\n\n        if (sel === \"3\") {\n          setDatos(res.data.map((item, i) => [item, 1]));\n          setTotal(\"0.00\");\n        }\n      });\n    }\n  }, [usr]);\n\n  function sumar() {\n    let suma = 0;\n    datos.forEach(item => {\n      suma += Number(item[0].precio) * Number(item[1]);\n    });\n    return suma.toString();\n  }\n\n  const Item = props => {\n    let dato = props.d[0];\n    let indice = props.indice;\n    let sel = props.sel;\n    const [borrar, setBorrar] = useState(false);\n    const [cantidad, setCantidad] = useState(props.d[1]); // cantidad de cada item en el carrito\n\n    const [recargar, setRecargar] = useState(false);\n    useEffect(() => {\n      if (recargar) window.location.reload();\n      setRecargar(false);\n    }, [recargar]);\n\n    function eliminarPublicacion(id) {\n      let url = baseURL + eliminarPublicacionURL;\n      let formData = new FormData();\n      formData.append(\"idp\", id.toString());\n      axios.post(url, formData).then(res => {\n        if (res.data == \"0\") {\n          alert(\"Eliminado\");\n          setRecargar(true);\n        } else console.log(res.data);\n      }).catch(err => console.log(err));\n    }\n\n    function cantidades() {\n      let a = [];\n\n      for (let i = 0; i < parseInt(dato.cantidadTotal); i++) {\n        a.push((i + 1).toString());\n      }\n\n      return a;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"dblock li-item \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dblock gris-mas-oscuro\",\n      href: \"/comprar/\" + dato.id + \"/\" + dato.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item-datos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"li-item__icono\",\n      src: \"data:image/*;base64,\" + arrayBase64(dato.miniatura),\n      width: \"48px\",\n      height: \"48px\",\n      alt: \"Imagen del articulo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__nombre-articulo roboto-c\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"a-limpio2 gris-mas-oscuro\",\n      href: \"/comprar/\" + dato.id + \"/\" + dato.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, deshex(dato.titulo))), sel === \"0\" && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"roboto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, \"Vendedor: \", dato.vendedor), sel === \"1\" && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"roboto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, \"Comprador: \", dato.comprador), sel === \"2\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"chip\",\n      onClick: _ => setBorrar(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \"Eliminar\")), sel === \"3\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, \"Cantidad:\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: e => {\n        setCantidad(e.target.value);\n        let nuevosDatos = [...datos];\n        nuevosDatos[indice][1] = e.target.value;\n        setDatos(nuevosDatos);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, cantidades().map(item => /*#__PURE__*/React.createElement(\"option\", {\n      selected: item == cantidad,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, item))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__fecha dflex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"roboto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, borrar ? \"\\u00bfBorrar esta publicaci\\u00f3n?\" : verbos[sel] + \" el \" + dato.fechadia + \"/\" + dato.fechames + \"/\" + dato.fechayear)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"li-item__precio dflex justify-sb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"li-item__precio roboto-c\" + (borrar ? \" cursor-pointer\" : \"\"),\n      onClick: _ => {\n        if (borrar) eliminarPublicacion(dato.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, borrar ? \"Si\" : \"€\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"li-item__precio roboto-c\" + (borrar ? \" cursor-pointer\" : \"\"),\n      onClick: _ => setBorrar(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, borrar ? \"No\" : dato.precio * cantidad))))));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, exito && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \" titulo__caption roboto-c\",\n    style: {\n      textAlign: \"center\",\n      paddingTop: \"2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, \"\\u00a1Compra terminada con \\u00e9xito!\")), !exito && !formulario && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titulo__contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo__caption roboto-c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, titulos[sel])), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lista-items border-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, datos.length === 0 && !usr && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  }, \"Cargando...\"), datos.length === 0 && usr && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, sel === \"3\" ? \"No hay articulos en el carrito\" : \"No hay \" + titulos[sel].toLowerCase() + \" que mostrar.\"), datos.map((item, i) => /*#__PURE__*/React.createElement(Item, {\n    key: i,\n    sel: sel,\n    d: item,\n    indice: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }))), datos.length !== 0 && sel === \"3\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"total-carrito-admin gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, \"Total: \", sumar(), \" \\u20AC\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bot-finalizar-compra n-boton a-limpio\",\n    onClick: _ => {\n      setFormulario(!formulario);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, \"FINALIZAR COMPRA\"))), !exito && formulario && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormularioPago, {\n    idp: datos.map(item => item[0].id),\n    cants: datos.map(item => item[1]),\n    precioTotal: sumar(),\n    usr_id: usr.dataId,\n    exito: setExito,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  })));\n};\n\nconst MenuLateral = props => {\n  const listaItems = [{\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-shopping-bag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Compras\",\n    direccion: \"0\",\n    url: \"/compras\"\n  }, {\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-hand-holding-usd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Ventas\",\n    direccion: \"1\",\n    url: \"/ventas\"\n  }, {\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-clone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Publicaciones\",\n    direccion: \"2\",\n    url: \"/publicaciones\"\n  }, {\n    icono: /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-shopping-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 14\n      }\n    }),\n    texto: \"Carrito\",\n    direccion: \"3\",\n    url: \"/carrito\"\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin__menu-lateral\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 5\n    }\n  }, listaItems.map(item => /*#__PURE__*/React.createElement(\"a\", {\n    className: \"admin__item dblock a-limpio2\",\n    href: \"/admin\" + item.url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"admin__item_icono\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }, item.icono), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"admin__item_texto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, item.texto))));\n};\n\nconst Admin = props => {\n  const [pagina, setPagina] = useState(props.pagina); // const usr = props.usr;\n\n  let usr = useSelector(state => state.usuario);\n\n  function clickMenuLateral(pag) {\n    setPagina(pag);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MenuLateral, {\n    accion: clickMenuLateral,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Informacion, {\n    sel: pagina,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/kevin/Desktop/Tienda/frontend-tienda/src/componentes/Admin.jsx"],"names":["React","useState","useEffect","useSelector","baseURL","verComprasURL","verVentasURL","verPublicacionesURL","verCarritoURL","pagarArticuloURL","eliminarPublicacionURL","deshex","arrayBase64","FormularioPago","axios","Informacion","props","formulario","setFormulario","exito","setExito","datos","setDatos","total","setTotal","usr","setUsr","titulos","verbos","usr_tmp","state","usuario","sel","url","formData","FormData","append","dataId","post","then","res","data","map","item","i","sumar","suma","forEach","Number","precio","toString","Item","dato","d","indice","borrar","setBorrar","cantidad","setCantidad","recargar","setRecargar","window","location","reload","eliminarPublicacion","id","alert","console","log","catch","err","cantidades","a","parseInt","cantidadTotal","push","miniatura","titulo","vendedor","comprador","_","marginRight","e","target","value","nuevosDatos","fechadia","fechames","fechayear","textAlign","paddingTop","length","toLowerCase","MenuLateral","listaItems","icono","texto","direccion","Admin","pagina","setPagina","clickMenuLateral","pag"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Admin.css\";\n\n/* redux */\nimport { useSelector } from \"react-redux\";\n\n/* datos del programa */\nimport {\n  baseURL,\n  verComprasURL,\n  verVentasURL,\n  verPublicacionesURL,\n  verCarritoURL,\n  pagarArticuloURL,\n  eliminarPublicacionURL,\n  deshex,\n  arrayBase64,\n} from \"../datos\";\n\nimport { FormularioPago } from \"./PagarCompra\";\n\n/* axios */\nimport axios from \"axios\";\n\nconst Informacion = (props) => {\n  const [formulario, setFormulario] = useState(false);\n  const [exito, setExito] = useState(false);\n  const [datos, setDatos] = useState([]);\n  const [total, setTotal] = useState(\"\");\n  const [usr, setUsr] = useState(null);\n\n  const titulos = [\"Compras\", \"Ventas\", \"Publicaciones\", \"Carrito\"];\n  const verbos = [\"Comprado\", \"Vendido\", \"Publicado\", \"Agregado\"];\n\n  let usr_tmp = useSelector((state) => state.usuario);\n  if (usr_tmp && !usr) setUsr(usr_tmp);\n\n  let sel = props.sel;\n  useEffect(() => {\n    if (usr) {\n      let url = baseURL;\n      if (sel === \"0\") url += verComprasURL;\n      if (sel === \"1\") url += verVentasURL;\n      if (sel === \"2\") url += verPublicacionesURL;\n      if (sel === \"3\") url += verCarritoURL;\n      let formData = new FormData();\n      formData.append(\"dataid\", usr.dataId);\n      axios.post(url, formData).then((res) => {\n        if (sel === \"0\") setDatos(res.data.map((item, i) => [item, 1]));\n        if (sel === \"1\") setDatos(res.data.map((item, i) => [item, 1]));\n        if (sel === \"2\") setDatos(res.data.map((item, i) => [item, 1]));\n        if (sel === \"3\") {\n          setDatos(res.data.map((item, i) => [item, 1]));\n          setTotal(\"0.00\");\n        }\n      });\n    }\n  }, [usr]);\n\n  function sumar() {\n    let suma = 0;\n    datos.forEach((item) => {\n      suma += Number(item[0].precio) * Number(item[1]);\n    });\n    return suma.toString();\n  }\n\n  const Item = (props) => {\n    let dato = props.d[0];\n    let indice = props.indice;\n    let sel = props.sel;\n    const [borrar, setBorrar] = useState(false);\n    const [cantidad, setCantidad] = useState(props.d[1]); // cantidad de cada item en el carrito\n    const [recargar, setRecargar] = useState(false);\n\n    useEffect(() => {\n      if (recargar) window.location.reload();\n      setRecargar(false);\n    }, [recargar]);\n\n    function eliminarPublicacion(id) {\n      let url = baseURL + eliminarPublicacionURL;\n      let formData = new FormData();\n      formData.append(\"idp\", id.toString());\n      axios\n        .post(url, formData)\n        .then((res) => {\n          if (res.data == \"0\") {\n            alert(\"Eliminado\");\n            setRecargar(true);\n          } else console.log(res.data);\n        })\n        .catch((err) => console.log(err));\n    }\n\n    function cantidades() {\n      let a = [];\n      for (let i = 0; i < parseInt(dato.cantidadTotal); i++) {\n        a.push((i + 1).toString());\n      }\n      return a;\n    }\n\n    return (\n      <>\n        <li className=\"dblock li-item \">\n          <div\n            className=\"dblock gris-mas-oscuro\"\n            href={\"/comprar/\" + dato.id + \"/\" + dato.url}\n          >\n            <div className=\"li-item-datos\">\n              <img\n                className=\"li-item__icono\"\n                src={\"data:image/*;base64,\" + arrayBase64(dato.miniatura)}\n                width=\"48px\"\n                height=\"48px\"\n                alt=\"Imagen del articulo\"\n              />\n\n              <div className=\"li-item__info\">\n                <div className=\"li-item__nombre-articulo roboto-c\">\n                  <a\n                    className=\"a-limpio2 gris-mas-oscuro\"\n                    href={\"/comprar/\" + dato.id + \"/\" + dato.url}\n                  >\n                    {deshex(dato.titulo)}\n                  </a>\n                </div>\n                {sel === \"0\" && (\n                  <div className=\"roboto\">Vendedor: {dato.vendedor}</div>\n                )}\n                {sel === \"1\" && (\n                  <div className=\"roboto\">Comprador: {dato.comprador}</div>\n                )}\n                {sel === \"2\" && (\n                  <>\n                    {/* <a className=\"chip\" href={\"editar/\" + dato.id}>\n                      Editar publicacion\n                    </a> */}\n                    <span className=\"chip\" onClick={(_) => setBorrar(true)}>\n                      Eliminar\n                    </span>\n                  </>\n                )}\n                {sel === \"3\" && (\n                  <>\n                    <span style={{ marginRight: 10 }}>Cantidad:</span>\n                    <select\n                      onChange={(e) => {\n                        setCantidad(e.target.value);\n                        let nuevosDatos = [...datos];\n                        nuevosDatos[indice][1] = e.target.value;\n                        setDatos(nuevosDatos);\n                      }}\n                    >\n                      {cantidades().map((item) => (\n                        <option selected={item == cantidad}>{item}</option>\n                      ))}\n                    </select>\n                  </>\n                )}\n              </div>\n\n              <div className=\"li-item__fecha dflex\">\n                <span className=\"roboto\">\n                  {borrar\n                    ? \"\\u00bfBorrar esta publicaci\\u00f3n?\"\n                    : verbos[sel] +\n                      \" el \" +\n                      dato.fechadia +\n                      \"/\" +\n                      dato.fechames +\n                      \"/\" +\n                      dato.fechayear}\n                </span>\n              </div>\n              <div className=\"li-item__precio dflex justify-sb\">\n                <span\n                  className={\n                    \"li-item__precio roboto-c\" +\n                    (borrar ? \" cursor-pointer\" : \"\")\n                  }\n                  onClick={(_) => {\n                    if (borrar) eliminarPublicacion(dato.id);\n                  }}\n                >\n                  {borrar ? \"Si\" : \"€\"}\n                </span>\n                <span\n                  className={\n                    \"li-item__precio roboto-c\" +\n                    (borrar ? \" cursor-pointer\" : \"\")\n                  }\n                  onClick={(_) => setBorrar(false)}\n                >\n                  {borrar ? \"No\" : dato.precio * cantidad}\n                </span>\n              </div>\n            </div>\n          </div>\n        </li>\n      </>\n    );\n  };\n  return (\n    <>\n      {exito && (\n        <>\n          <h2\n            className=\" titulo__caption roboto-c\"\n            style={{ textAlign: \"center\", paddingTop: \"2em\" }}\n          >\n            {\"\\u00a1Compra terminada con \\u00e9xito!\"}\n          </h2>\n        </>\n      )}\n      {!exito && !formulario && (\n        <>\n          {/* titulo de cada seccion */}\n          <div className=\"titulo__contenedor\">\n            <h2 className=\"titulo__caption roboto-c\">{titulos[sel]}</h2>\n          </div>\n\n          {/* listado de compras/ventas/carrito... */}\n          <div className=\"lista-items border-box\">\n            {datos.length === 0 && !usr && (\n              <span className=\"gris-oscuro\">Cargando...</span>\n            )}\n            {datos.length === 0 && usr && (\n              <span className=\"gris-oscuro\">\n                {sel === \"3\"\n                  ? \"No hay articulos en el carrito\"\n                  : \"No hay \" + titulos[sel].toLowerCase() + \" que mostrar.\"}\n              </span>\n            )}\n            {datos.map((item, i) => (\n              <Item key={i} sel={sel} d={item} indice={i} />\n            ))}\n          </div>\n\n          {/* el total a pagar por todos los items del carrito */}\n          {datos.length !== 0 && sel === \"3\" && (\n            <>\n              <span className=\"total-carrito-admin gris-oscuro\">\n                Total: {sumar()} €\n              </span>\n              <span\n                className=\"bot-finalizar-compra n-boton a-limpio\"\n                onClick={(_) => {\n                  setFormulario(!formulario);\n                }}\n              >\n                FINALIZAR COMPRA\n              </span>\n            </>\n          )}\n        </>\n      )}\n      {!exito && formulario && (\n        <>\n          <FormularioPago\n            idp={datos.map((item) => item[0].id)}\n            cants={datos.map((item) => item[1])}\n            precioTotal={sumar()}\n            usr_id={usr.dataId}\n            exito={setExito}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nconst MenuLateral = (props) => {\n  const listaItems = [\n    {\n      icono: <i className=\"fas fa-shopping-bag\"></i>,\n      texto: \"Compras\",\n      direccion: \"0\",\n      url: \"/compras\",\n    },\n    {\n      icono: <i className=\"fas fa-hand-holding-usd\"></i>,\n      texto: \"Ventas\",\n      direccion: \"1\",\n      url: \"/ventas\",\n    },\n    {\n      icono: <i className=\"fas fa-clone\"></i>,\n      texto: \"Publicaciones\",\n      direccion: \"2\",\n      url: \"/publicaciones\",\n    },\n    {\n      icono: <i className=\"fas fa-shopping-cart\"></i>,\n      texto: \"Carrito\",\n      direccion: \"3\",\n      url: \"/carrito\",\n    },\n  ];\n\n  return (\n    <div className=\"admin__menu-lateral\">\n      {listaItems.map((item) => (\n        <a className=\"admin__item dblock a-limpio2\" href={\"/admin\" + item.url}>\n          <span className=\"admin__item_icono\">{item.icono}</span>\n          <span className=\"admin__item_texto\">{item.texto}</span>\n        </a>\n      ))}\n    </div>\n  );\n};\n\nconst Admin = (props) => {\n  const [pagina, setPagina] = useState(props.pagina);\n\n  // const usr = props.usr;\n  let usr = useSelector((state) => state.usuario);\n\n  function clickMenuLateral(pag) {\n    setPagina(pag);\n  }\n\n  return (\n    <div className=\"admin-view\">\n      <MenuLateral accion={clickMenuLateral} />\n      <div className=\"admin-panel\">\n        <Informacion sel={pagina} />\n      </div>\n    </div>\n  );\n};\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}