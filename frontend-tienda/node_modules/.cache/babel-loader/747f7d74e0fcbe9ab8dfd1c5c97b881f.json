{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\Tienda\\\\frontend-tienda\\\\src\\\\componentes\\\\Comprar.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Comprar.css\";\n/* axios */\n\nimport axios from \"axios\";\n/* react-router-dom */\n\nimport { useParams } from \"react-router-dom\";\n/* datos del programa */\n\nimport { baseURL, verArticuloURL, agregarCarritoURL, borrarDelCarritoURL, Redirigir, deshex, arrayBase64 } from \"../datos\";\n\nconst Comprar = props => {\n  const [busqueda, setBusqueda] = useState(true);\n  const [publicacion, setPublicacion] = useState(null);\n  const [miniaturas, setMiniaturas] = useState([]);\n  const [minsel, setMinsel] = useState(-1);\n  const [error, setError] = useState(false);\n  const [descripcionColapsada, setDescripcionColapsada] = useState(false);\n  const [redirigirCarrito, setRedirigirCarrito] = useState(false);\n  const {\n    rnart\n  } = useParams();\n  useEffect(() => {\n    if (busqueda) {\n      let url = baseURL + verArticuloURL + \"?idpublicacion=\" + rnart.toString();\n\n      if (props.usr) {\n        url += \"&dataidusuario=\" + props.usr.dataId;\n      }\n\n      console.log(url); //muestro la pagina para saber si va bien\n\n      axios.get(url).then(res => {\n        setPublicacion(res.data);\n        setMiniaturas(res.data.imagenes);\n        setMinsel(0);\n        setBusqueda(false);\n        setError(false);\n      }).catch(err => {\n        setError(true);\n      });\n    }\n  }, [busqueda]);\n\n  function agregarAlCarrito() {\n    if (!props.usr) alert(\"Debes iniciar sesion!!!\");else {\n      let url = baseURL + agregarCarritoURL;\n      let formData = new FormData();\n      formData.append(\"idp\", rnart.toString());\n      formData.append(\"dataid\", props.usr.dataId.toString());\n      axios.post(url, formData).then(res => {\n        if (res.data == \"0\") {\n          alert(\"\\u00a1Agregado!\");\n          setRedirigirCarrito(true);\n        }\n      }).catch(err => {});\n    }\n  }\n\n  function borrarDelCarrito() {\n    if (props.usr) {\n      let url = baseURL + borrarDelCarritoURL;\n      let formData = new FormData();\n      formData.append(\"idpublicacion\", rnart.toString());\n      formData.append(\"dataidusuario\", props.usr.dataId.toString());\n      axios.post(url, formData).then(res => {\n        if (res.data == \"0\") {\n          alert(\"\\u00a1Eliminado!\");\n          setRedirigirCarrito(true);\n        }\n      }).catch(err => {});\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirigirCarrito && /*#__PURE__*/React.createElement(Redirigir, {\n    donde: \"/admin/carrito\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 28\n    }\n  }), publicacion === null && !error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-cargando\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 42\n    }\n  }), error && /*#__PURE__*/React.createElement(Redirigir, {\n    donde: \"/error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), !error && publicacion !== null && minsel != -1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comprar-articulo-view border-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"marco box-shadow-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detalles-compra border-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comprar-articulo__imagen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo-alternativo gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, deshex(publicacion.titulo)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imagen-visible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img\",\n    src: \"data:image/*;base64,\" + arrayBase64(miniaturas[minsel].bytes),\n    alt: \"Imagen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"miniaturas talign-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, miniaturas.map((item, i) => /*#__PURE__*/React.createElement(\"img\", {\n    key: i,\n    className: \"img-miniatura\",\n    src: \"data:image/*;base64,\" + arrayBase64(item.bytes),\n    onMouseEnter: e => setMinsel(i),\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comprar-articulo__informacion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo-publicacion-compra gris-oscuro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, deshex(publicacion.titulo)), publicacion.cantidad === \"0\" && /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: \"#85203b\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, \"\\u00a1Producto sin stock!\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"comprar-articulo__precio dblock gris-oscuro roboto-c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, publicacion.precio + \"â‚¬\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"gris-oscuro roboto\",\n    style: {\n      margin: \".9em 0 1em\",\n      fontSize: \"1.4rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"Detalles del art\\u00edculo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"art-descr roboto cursor-pointer\" + (descripcionColapsada ? \"\" : \" colapsado\"),\n    onClick: _ => setDescripcionColapsada(!descripcionColapsada),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, deshex(publicacion.descripcion)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, publicacion.cantidad !== \"0\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 23\n    }\n  }, \"Cantidad disponible: \" + publicacion.cantidad), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dflex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"n-boton a-limpio\",\n    onClick: e => {\n      if (publicacion.enCarrito == \"false\") {\n        borrarDelCarrito();\n      } else agregarAlCarrito();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, publicacion.enCarrito == \"false\" ? \"BORRAR DEL CARRITO\" : \"AGREGAR AL CARRITO\")))))))));\n};\n\nexport default Comprar;","map":{"version":3,"sources":["C:/Users/kevin/Desktop/Tienda/frontend-tienda/src/componentes/Comprar.jsx"],"names":["React","useState","useEffect","axios","useParams","baseURL","verArticuloURL","agregarCarritoURL","borrarDelCarritoURL","Redirigir","deshex","arrayBase64","Comprar","props","busqueda","setBusqueda","publicacion","setPublicacion","miniaturas","setMiniaturas","minsel","setMinsel","error","setError","descripcionColapsada","setDescripcionColapsada","redirigirCarrito","setRedirigirCarrito","rnart","url","toString","usr","dataId","console","log","get","then","res","data","imagenes","catch","err","agregarAlCarrito","alert","formData","FormData","append","post","borrarDelCarrito","titulo","bytes","map","item","i","e","cantidad","color","precio","margin","fontSize","_","descripcion","enCarrito"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,eAAP;AAEA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA;;AACA,SACEC,OADF,EAEEC,cAFF,EAGEC,iBAHF,EAIEC,mBAJF,EAKEC,SALF,EAMEC,MANF,EAOEC,WAPF,QAQO,UARP;;AAUA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AACzB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACe,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACmB,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,CAAC,CAAF,CAApC;AACA,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACuB,oBAAD,EAAuBC,uBAAvB,IAAkDxB,QAAQ,CAAC,KAAD,CAAhE;AACA,QAAM,CAACyB,gBAAD,EAAmBC,mBAAnB,IAA0C1B,QAAQ,CAAC,KAAD,CAAxD;AAEA,QAAM;AAAE2B,IAAAA;AAAF,MAAYxB,SAAS,EAA3B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,QAAJ,EAAc;AACZ,UAAIe,GAAG,GAAGxB,OAAO,GAAGC,cAAV,GAA2B,iBAA3B,GAA+CsB,KAAK,CAACE,QAAN,EAAzD;;AACA,UAAIjB,KAAK,CAACkB,GAAV,EAAe;AACbF,QAAAA,GAAG,IAAI,oBAAoBhB,KAAK,CAACkB,GAAN,CAAUC,MAArC;AACD;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,EALY,CAKM;;AAClB1B,MAAAA,KAAK,CACFgC,GADH,CACON,GADP,EAEGO,IAFH,CAESC,GAAD,IAAS;AACbpB,QAAAA,cAAc,CAACoB,GAAG,CAACC,IAAL,CAAd;AACAnB,QAAAA,aAAa,CAACkB,GAAG,CAACC,IAAJ,CAASC,QAAV,CAAb;AACAlB,QAAAA,SAAS,CAAC,CAAD,CAAT;AACAN,QAAAA,WAAW,CAAC,KAAD,CAAX;AACAQ,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,OARH,EASGiB,KATH,CASUC,GAAD,IAAS;AACdlB,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,OAXH;AAYD;AACF,GApBQ,EAoBN,CAACT,QAAD,CApBM,CAAT;;AAsBA,WAAS4B,gBAAT,GAA4B;AAC1B,QAAI,CAAC7B,KAAK,CAACkB,GAAX,EAAgBY,KAAK,CAAC,yBAAD,CAAL,CAAhB,KACK;AACH,UAAId,GAAG,GAAGxB,OAAO,GAAGE,iBAApB;AACA,UAAIqC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,KAAhB,EAAuBlB,KAAK,CAACE,QAAN,EAAvB;AACAc,MAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BjC,KAAK,CAACkB,GAAN,CAAUC,MAAV,CAAiBF,QAAjB,EAA1B;AACA3B,MAAAA,KAAK,CACF4C,IADH,CACQlB,GADR,EACae,QADb,EAEGR,IAFH,CAESC,GAAD,IAAS;AACb,YAAIA,GAAG,CAACC,IAAJ,IAAY,GAAhB,EAAqB;AACnBK,UAAAA,KAAK,CAAC,iBAAD,CAAL;AACAhB,UAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;AACF,OAPH,EAQGa,KARH,CAQUC,GAAD,IAAS,CAAE,CARpB;AASD;AACF;;AAED,WAASO,gBAAT,GAA4B;AAC1B,QAAInC,KAAK,CAACkB,GAAV,EAAe;AACb,UAAIF,GAAG,GAAGxB,OAAO,GAAGG,mBAApB;AACA,UAAIoC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiClB,KAAK,CAACE,QAAN,EAAjC;AACAc,MAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiCjC,KAAK,CAACkB,GAAN,CAAUC,MAAV,CAAiBF,QAAjB,EAAjC;AACA3B,MAAAA,KAAK,CACF4C,IADH,CACQlB,GADR,EACae,QADb,EAEGR,IAFH,CAESC,GAAD,IAAS;AACb,YAAIA,GAAG,CAACC,IAAJ,IAAY,GAAhB,EAAqB;AACnBK,UAAAA,KAAK,CAAC,kBAAD,CAAL;AACAhB,UAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;AACF,OAPH,EAQGa,KARH,CAQUC,GAAD,IAAS,CAAE,CARpB;AASD;AACF;;AAED,sBACE,0CACGf,gBAAgB,iBAAI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADvB,EAEGV,WAAW,KAAK,IAAhB,IAAwB,CAACM,KAAzB,iBAAkC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFrC,EAGGA,KAAK,iBAAI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHZ,EAIG,CAACA,KAAD,IAAUN,WAAW,KAAK,IAA1B,IAAkCI,MAAM,IAAI,CAAC,CAA7C,iBACC;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,gCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,MAAM,CAACM,WAAW,CAACiC,MAAb,CADT,CADF,eAIE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,KADZ;AAEE,IAAA,GAAG,EACD,yBACAtC,WAAW,CAACO,UAAU,CAACE,MAAD,CAAV,CAAmB8B,KAApB,CAJf;AAME,IAAA,GAAG,EAAC,QANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,eAcE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhC,UAAU,CAACiC,GAAX,CAAe,CAACC,IAAD,EAAOC,CAAP,kBACd;AACE,IAAA,GAAG,EAAEA,CADP;AAEE,IAAA,SAAS,EAAC,eAFZ;AAGE,IAAA,GAAG,EAAE,yBAAyB1C,WAAW,CAACyC,IAAI,CAACF,KAAN,CAH3C;AAIE,IAAA,YAAY,EAAGI,CAAD,IAAOjC,SAAS,CAACgC,CAAD,CAJhC;AAKE,IAAA,GAAG,EAAC,EALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CAdF,CADF,eA2BE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,uCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3C,MAAM,CAACM,WAAW,CAACiC,MAAb,CADT,CADF,EAIGjC,WAAW,CAACuC,QAAZ,KAAyB,GAAzB,iBACC;AAAI,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,2BADH,CALJ,eASE;AAAM,IAAA,SAAS,EAAC,sDAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxC,WAAW,CAACyC,MAAZ,GAAqB,GADxB,CATF,eAYE;AACE,IAAA,SAAS,EAAC,oBADZ;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE,YAAV;AAAwBC,MAAAA,QAAQ,EAAE;AAAlC,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG,4BAJH,CAZF,eAkBE;AACE,IAAA,SAAS,EACP,qCACCnC,oBAAoB,GAAG,EAAH,GAAQ,YAD7B,CAFJ;AAKE,IAAA,OAAO,EAAGoC,CAAD,IACPnC,uBAAuB,CAAC,CAACD,oBAAF,CAN3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASGd,MAAM,CAACM,WAAW,CAAC6C,WAAb,CATT,CAlBF,eA8BE;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7C,WAAW,CAACuC,QAAZ,KAAyB,GAAzB,iBACC,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI,0BAA0BvC,WAAW,CAACuC,QAA1C,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,kBADZ;AAEE,IAAA,OAAO,EAAGD,CAAD,IAAO;AACd,UAAItC,WAAW,CAAC8C,SAAZ,IAAyB,OAA7B,EAAsC;AACpCd,QAAAA,gBAAgB;AACjB,OAFD,MAEON,gBAAgB;AACxB,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQG1B,WAAW,CAAC8C,SAAZ,IAAyB,OAAzB,GACG,oBADH,GAEG,oBAVN,CADF,CAJF,CAFJ,CA9BF,CA3BF,CADF,CADF,CALJ,CADF;AA+FD,CArKD;;AAuKA,eAAelD,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Comprar.css\";\n\n/* axios */\nimport axios from \"axios\";\n\n/* react-router-dom */\nimport { useParams } from \"react-router-dom\";\n\n/* datos del programa */\nimport {\n  baseURL,\n  verArticuloURL,\n  agregarCarritoURL,\n  borrarDelCarritoURL,\n  Redirigir,\n  deshex,\n  arrayBase64,\n} from \"../datos\";\n\nconst Comprar = (props) => {\n  const [busqueda, setBusqueda] = useState(true);\n  const [publicacion, setPublicacion] = useState(null);\n  const [miniaturas, setMiniaturas] = useState([]);\n  const [minsel, setMinsel] = useState(-1);\n  const [error, setError] = useState(false);\n  const [descripcionColapsada, setDescripcionColapsada] = useState(false);\n  const [redirigirCarrito, setRedirigirCarrito] = useState(false);\n\n  const { rnart } = useParams();\n\n  useEffect(() => {\n    if (busqueda) {\n      let url = baseURL + verArticuloURL + \"?idpublicacion=\" + rnart.toString();\n      if (props.usr) {\n        url += \"&dataidusuario=\" + props.usr.dataId;\n      }\n      console.log(url); //muestro la pagina para saber si va bien\n      axios\n        .get(url)\n        .then((res) => {\n          setPublicacion(res.data);\n          setMiniaturas(res.data.imagenes);\n          setMinsel(0);\n          setBusqueda(false);\n          setError(false);\n        })\n        .catch((err) => {\n          setError(true);\n        });\n    }\n  }, [busqueda]);\n\n  function agregarAlCarrito() {\n    if (!props.usr) alert(\"Debes iniciar sesion!!!\");\n    else {\n      let url = baseURL + agregarCarritoURL;\n      let formData = new FormData();\n      formData.append(\"idp\", rnart.toString());\n      formData.append(\"dataid\", props.usr.dataId.toString());\n      axios\n        .post(url, formData)\n        .then((res) => {\n          if (res.data == \"0\") {\n            alert(\"\\u00a1Agregado!\");\n            setRedirigirCarrito(true);\n          }\n        })\n        .catch((err) => {});\n    }\n  }\n\n  function borrarDelCarrito() {\n    if (props.usr) {\n      let url = baseURL + borrarDelCarritoURL;\n      let formData = new FormData();\n      formData.append(\"idpublicacion\", rnart.toString());\n      formData.append(\"dataidusuario\", props.usr.dataId.toString());\n      axios\n        .post(url, formData)\n        .then((res) => {\n          if (res.data == \"0\") {\n            alert(\"\\u00a1Eliminado!\");\n            setRedirigirCarrito(true);\n          }\n        })\n        .catch((err) => {});\n    }\n  }\n\n  return (\n    <>\n      {redirigirCarrito && <Redirigir donde=\"/admin/carrito\" />}\n      {publicacion === null && !error && <div className=\"div-cargando\" />}\n      {error && <Redirigir donde=\"/error\" />}\n      {!error && publicacion !== null && minsel != -1 && (\n        <div className=\"comprar-articulo-view border-box\">\n          <div className=\"marco box-shadow-1\">\n            <div className=\"detalles-compra border-box\">\n              <div className=\"comprar-articulo__imagen\">\n                <h2 className=\"titulo-alternativo gris-oscuro\">\n                  {deshex(publicacion.titulo)}\n                </h2>\n                <div className=\"imagen-visible\">\n                  <img\n                    className=\"img\"\n                    src={\n                      \"data:image/*;base64,\" +\n                      arrayBase64(miniaturas[minsel].bytes)\n                    }\n                    alt=\"Imagen\"\n                  />\n                </div>\n                <div className=\"miniaturas talign-center\">\n                  {miniaturas.map((item, i) => (\n                    <img\n                      key={i}\n                      className=\"img-miniatura\"\n                      src={\"data:image/*;base64,\" + arrayBase64(item.bytes)}\n                      onMouseEnter={(e) => setMinsel(i)}\n                      alt=\"\"\n                    />\n                  ))}\n                </div>\n              </div>\n              <div className=\"comprar-articulo__informacion\">\n                <h2 className=\"titulo-publicacion-compra gris-oscuro\">\n                  {deshex(publicacion.titulo)}\n                </h2>\n                {publicacion.cantidad === \"0\" && (\n                  <h3 style={{ color: \"#85203b\" }}>\n                    {\"\\u00a1Producto sin stock!\"}\n                  </h3>\n                )}\n                <span className=\"comprar-articulo__precio dblock gris-oscuro roboto-c\">\n                  {publicacion.precio + \"â‚¬\"}\n                </span>\n                <p\n                  className=\"gris-oscuro roboto\"\n                  style={{ margin: \".9em 0 1em\", fontSize: \"1.4rem\" }}\n                >\n                  {\"Detalles del art\\u00edculo\"}\n                </p>\n                <div\n                  className={\n                    \"art-descr roboto cursor-pointer\" +\n                    (descripcionColapsada ? \"\" : \" colapsado\")\n                  }\n                  onClick={(_) =>\n                    setDescripcionColapsada(!descripcionColapsada)\n                  }\n                >\n                  {deshex(publicacion.descripcion)}\n                </div>\n\n                <div className=\"\">\n                  {publicacion.cantidad !== \"0\" && (\n                    <>\n                      <br />\n                      <p>{\"Cantidad disponible: \" + publicacion.cantidad}</p>\n                      <br />\n                      <div className=\"dflex\">\n                        <a\n                          className=\"n-boton a-limpio\"\n                          onClick={(e) => {\n                            if (publicacion.enCarrito == \"false\") {\n                              borrarDelCarrito();\n                            } else agregarAlCarrito();\n                          }}\n                        >\n                          {publicacion.enCarrito == \"false\"\n                            ? \"BORRAR DEL CARRITO\"\n                            : \"AGREGAR AL CARRITO\"}\n                        </a>\n                      </div>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Comprar;\n"]},"metadata":{},"sourceType":"module"}